/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/common/names.ts":
/*!*****************************!*\
  !*** ./src/common/names.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ROCKY_NAMES = exports.ZAPPY_NAMES = exports.DUCK_NAMES = exports.SNAKE_NAMES = exports.TOTORO_NAMES = exports.CLIPPY_NAMES = exports.CRAB_NAMES = exports.DOG_NAMES = exports.CAT_NAMES = exports.PET_NAMES = void 0;
exports.PET_NAMES = new Map([
    [1, 'Bella'],
    [2, 'Charlie'],
    [3, 'Max'],
    [4, 'Molly'],
    [5, 'Coco'],
    [6, 'Buddy'],
    [7, 'Ruby'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
    [11, 'Milo'],
    [12, 'Daisy'],
    [13, 'Archie'],
    [14, 'Ollie'],
    [15, 'Rosie'],
    [16, 'Lola'],
    [17, 'Frankie'],
    [18, 'Toby'],
    [19, 'Roxy'],
    [20, 'Poppy'],
    [21, 'Luna'],
    [22, 'Jack'],
    [23, 'Millie'],
    [24, 'Teddy'],
    [25, 'Harry'],
    [26, 'Cooper'],
    [27, 'Bear'],
    [28, 'Rocky'],
    [29, 'Alfie'],
    [30, 'Hugo'],
    [31, 'Bonnie'],
    [32, 'Pepper'],
    [33, 'Lily'],
    [34, 'Tilly'],
    [35, 'Leo'],
    [36, 'Maggie'],
    [37, 'George'],
    [38, 'Mia'],
    [39, 'Marley'],
    [40, 'Harley'],
    [41, 'Chloe'],
    [42, 'Lulu'],
    [43, 'Missy'],
    [44, 'Jasper'],
    [45, 'Billy'],
    [46, 'Nala'],
    [47, 'Monty'],
    [48, 'Ziggy'],
    [49, 'Winston'],
    [50, 'Zeus'],
    [51, 'Zoe'],
    [52, 'Stella'],
    [53, 'Sasha'],
    [54, 'Rusty'],
    [55, 'Gus'],
    [56, 'Baxter'],
    [57, 'Dexter'],
    [58, 'Diesel'],
    [59, 'Willow'],
    [60, 'Barney'],
    [61, 'Bruno'],
    [62, 'Penny'],
    [63, 'Honey'],
    [64, 'Milly'],
    [65, 'Murphy'],
    [66, 'Simba'],
    [67, 'Holly'],
    [68, 'Benji'],
    [69, 'Henry'],
    [70, 'Lilly'],
    [71, 'Pippa'],
    [72, 'Shadow'],
    [73, 'Sam'],
    [74, 'Buster'],
    [75, 'Lucky'],
    [76, 'Ellie'],
    [77, 'Duke'],
    [78, 'Jessie'],
    [79, 'Cookie'],
    [80, 'Harvey'],
    [81, 'Bruce'],
    [82, 'Jax'],
    [83, 'Rex'],
    [84, 'Louie'],
    [85, 'Bentley'],
    [86, 'Jet'],
    [87, 'Banjo'],
    [88, 'Beau'],
    [89, 'Ella'],
    [90, 'Ralph'],
    [91, 'Loki'],
    [92, 'Lexi'],
    [93, 'Chester'],
    [94, 'Sophie'],
    [95, 'Chilli'],
    [96, 'Billie'],
    [97, 'Louis'],
    [98, 'Scout'],
    [99, 'Charlie'],
    [100, 'Cleo'],
    [101, 'Purfect'],
    [102, 'Spot'],
    [103, 'Harry'],
    [104, 'Bolt'],
]);
exports.CAT_NAMES = exports.PET_NAMES;
exports.DOG_NAMES = exports.PET_NAMES;
exports.CRAB_NAMES = new Map([
    [1, 'Ferris'],
    [2, 'Pinchy'],
    [3, 'Grabby'],
    [4, 'Big Red'],
    [5, 'Crabby'],
    [6, 'Buddy'],
    [7, 'Ruby Red'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
]);
exports.CLIPPY_NAMES = new Map([
    [1, 'Clippy'],
    [2, 'Karl Klammer'],
    [3, 'Clippy Jr.'],
    [4, 'Molly'],
    [5, 'Coco'],
    [6, 'Buddy'],
    [7, 'Ruby'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
]);
exports.TOTORO_NAMES = new Map([
    [1, 'Totoro'],
    [2, 'トトロ'],
    [3, 'Max'],
    [4, 'Molly'],
    [5, 'Coco'],
    [6, 'Buddy'],
    [7, 'Ruby'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
]);
exports.SNAKE_NAMES = new Map([
    [1, 'Sneaky'],
    [2, 'Mr Slippery'],
    [3, 'Max'],
    [4, 'Molly'],
    [5, 'Coco'],
    [6, 'Buddy'],
    [7, 'Ruby'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
]);
exports.DUCK_NAMES = new Map([
    [1, 'Quacky'],
    [2, 'Floaty'],
    [3, 'Duck'],
    [4, 'Molly'],
    [5, 'Sunshine'],
    [6, 'Buddy'],
    [7, 'Chirpy'],
    [8, 'Oscar'],
    [9, 'Lucy'],
    [10, 'Bailey'],
]);
exports.ZAPPY_NAMES = new Map([
    [1, 'Zappy'],
    [2, 'Zippy'],
    [3, 'Zappy Jr.'],
    [4, 'Zoppy'],
    [5, 'Zuppy'],
    [6, 'Zeppy'],
    [7, 'Big Z'],
    [8, 'Little z'],
    [9, 'The Flash'],
    [10, 'Thor'],
]);
exports.ROCKY_NAMES = new Map([
    [1, 'Rocky'],
    [2, 'The Rock'],
    [3, 'Quartzy'],
    [4, 'Rocky I'],
    [5, 'Rocky II'],
    [6, 'Rocky III'],
    [7, 'Pebbles Sr.'],
    [8, 'Big Granite'],
    [9, 'Boulder'],
    [10, 'Rockefeller'],
]);


/***/ }),

/***/ "./src/panel/main.ts":
/*!***************************!*\
  !*** ./src/panel/main.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.petPanelApp = exports.saveState = exports.allPets = void 0;
const pets_1 = __webpack_require__(/*! ./pets */ "./src/panel/pets.ts");
const states_1 = __webpack_require__(/*! ./states */ "./src/panel/states.ts");
const vscode = window.acquireVsCodeApi();
exports.allPets = new pets_1.PetCollection();
var petCounter;
function calculateBallRadius(size) {
    if (size === "nano" /* PetSize.nano */) {
        return 2;
    }
    else if (size === "medium" /* PetSize.medium */) {
        return 4;
    }
    else if (size === "large" /* PetSize.large */) {
        return 8;
    }
    else {
        return 1; // Shrug
    }
}
function calculateFloor(size, theme) {
    switch (theme) {
        case "forest" /* Theme.forest */:
            switch (size) {
                case "medium" /* PetSize.medium */:
                    return 40;
                case "large" /* PetSize.large */:
                    return 65;
                case "nano" /* PetSize.nano */:
                default:
                    return 23;
            }
        case "castle" /* Theme.castle */:
            switch (size) {
                case "medium" /* PetSize.medium */:
                    return 80;
                case "large" /* PetSize.large */:
                    return 120;
                case "nano" /* PetSize.nano */:
                default:
                    return 45;
            }
    }
    return 0;
}
function handleMouseOver(e) {
    var el = e.currentTarget;
    exports.allPets.pets().forEach((element) => {
        if (element.collision === el) {
            if (!element.pet.canSwipe()) {
                return;
            }
            element.pet.swipe();
        }
    });
}
function startAnimations(collision, pet) {
    collision.addEventListener('mouseover', handleMouseOver);
    setInterval(() => {
        var updates = exports.allPets.seekNewFriends();
        updates.forEach((message) => {
            vscode.postMessage({
                text: message,
                command: 'info',
            });
        });
        pet.nextFrame();
        saveState();
    }, 100);
}
function addPetToPanel(petType, basePetUri, petColor, petSize, left, bottom, floor, name) {
    var petSpriteElement = document.createElement('img');
    petSpriteElement.className = 'pet';
    document.getElementById('petsContainer').appendChild(petSpriteElement);
    var collisionElement = document.createElement('div');
    collisionElement.className = 'collision';
    document.getElementById('petsContainer').appendChild(collisionElement);
    const root = basePetUri + '/' + petType + '/' + petColor;
    console.log('Creating new pet : ', petType, root);
    var newPet = (0, pets_1.createPet)(petType, petSpriteElement, collisionElement, petSize, left, bottom, root, floor, name);
    petCounter++;
    startAnimations(collisionElement, newPet);
    return new pets_1.PetElement(petSpriteElement, collisionElement, newPet, petColor, petType);
}
function saveState() {
    var state = new states_1.PetPanelState();
    state.petStates = new Array();
    exports.allPets.pets().forEach((petItem) => {
        state.petStates.push({
            petName: petItem.pet.name(),
            petColor: petItem.color,
            petType: petItem.type,
            petState: petItem.pet.getState(),
            petFriend: petItem.pet.friend()
                ? petItem.pet.friend().name()
                : undefined,
            elLeft: petItem.el.style.left,
            elBottom: petItem.el.style.bottom,
        });
    });
    state.petCounter = petCounter;
    vscode.setState(state);
}
exports.saveState = saveState;
function recoverState(basePetUri, petSize, floor) {
    var state = vscode.getState();
    if (state.petCounter === undefined || isNaN(state.petCounter)) {
        petCounter = 1;
    }
    else {
        petCounter = state.petCounter;
    }
    var recoveryMap = new Map();
    state.petStates.forEach((p) => {
        // Fixes a bug related to duck animations
        if (p.petType === 'rubber duck') {
            p.petType = 'rubber-duck';
        }
        try {
            var newPet = addPetToPanel(p.petType, basePetUri, p.petColor, petSize, parseInt(p.elLeft), parseInt(p.elBottom), floor, p.petName);
            exports.allPets.push(newPet);
            recoveryMap.set(newPet.pet, p);
        }
        catch (InvalidPetException) {
            console.log('State had invalid pet (' + p.petType + '), discarding.');
        }
    });
    recoveryMap.forEach((state, pet) => {
        // Recover previous state.
        pet.recoverState(state.petState);
        // Resolve friend relationships
        var friend = undefined;
        if (state.petFriend) {
            friend = exports.allPets.locate(state.petFriend);
            if (friend) {
                pet.recoverFriend(friend.pet);
            }
        }
    });
}
function randomStartPosition() {
    return Math.floor(Math.random() * (window.innerWidth * 0.7));
}
let canvas, ctx;
function initCanvas() {
    canvas = document.getElementById('petCanvas');
    ctx = canvas.getContext('2d');
    ctx.canvas.width = window.innerWidth;
    ctx.canvas.height = window.innerHeight;
}
// It cannot access the main VS Code APIs directly.
function petPanelApp(basePetUri, theme, themeKind, petColor, petSize, petType) {
    const ballRadius = calculateBallRadius(petSize);
    var floor = 0;
    // Apply Theme backgrounds
    if (theme !== "none" /* Theme.none */) {
        var _themeKind = '';
        switch (themeKind) {
            case 2 /* ColorThemeKind.dark */:
                _themeKind = 'dark';
                break;
            case 1 /* ColorThemeKind.light */:
                _themeKind = 'light';
                break;
            case 3 /* ColorThemeKind.highContrast */:
            default:
                _themeKind = 'light';
                break;
        }
        document.body.style.backgroundImage = `url('${basePetUri}/backgrounds/${theme}/background-${_themeKind}-${petSize}.png')`;
        document.getElementById('foreground').style.backgroundImage = `url('${basePetUri}/backgrounds/${theme}/foreground-${_themeKind}-${petSize}.png')`;
        floor = calculateFloor(petSize, theme); // Themes have pets at a specified height from the ground
    }
    else {
        document.body.style.backgroundImage = '';
        document.getElementById('foreground').style.backgroundImage = '';
    }
    /// Bouncing ball components, credit https://stackoverflow.com/a/29982343
    const gravity = 0.2, damping = 0.9, traction = 0.8;
    var ballState;
    function resetBall() {
        canvas.style.display = 'block';
        ballState = new states_1.BallState(100, 100, 2, 5);
    }
    function throwBall() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        if (!ballState.paused) {
            requestAnimationFrame(throwBall);
        }
        if (ballState.cx + ballRadius >= canvas.width) {
            ballState.vx = -ballState.vx * damping;
            ballState.cx = canvas.width - ballRadius;
        }
        else if (ballState.cx - ballRadius <= 0) {
            ballState.vx = -ballState.vx * damping;
            ballState.cx = ballRadius;
        }
        if (ballState.cy + ballRadius + floor >= canvas.height) {
            ballState.vy = -ballState.vy * damping;
            ballState.cy = canvas.height - ballRadius - floor;
            // traction here
            ballState.vx *= traction;
        }
        else if (ballState.cy - ballRadius <= 0) {
            ballState.vy = -ballState.vy * damping;
            ballState.cy = ballRadius;
        }
        ballState.vy += gravity;
        ballState.cx += ballState.vx;
        ballState.cy += ballState.vy;
        ctx.beginPath();
        ctx.arc(ballState.cx, ballState.cy, ballRadius, 0, 2 * Math.PI, false);
        ctx.fillStyle = '#2ed851';
        ctx.fill();
    }
    console.log('Starting pet session', petColor, basePetUri, petType);
    // New session
    var state = vscode.getState();
    if (!state) {
        console.log('No state, starting a new session.');
        petCounter = 1;
        exports.allPets.push(addPetToPanel(petType, basePetUri, petColor, petSize, randomStartPosition(), floor, floor, undefined));
        saveState();
    }
    else {
        console.log('Recovering state - ', state);
        recoverState(basePetUri, petSize, floor);
    }
    initCanvas();
    // Handle messages sent from the extension to the webview
    window.addEventListener('message', (event) => {
        const message = event.data; // The json data that the extension sent
        switch (message.command) {
            case 'throw-ball':
                resetBall();
                throwBall();
                exports.allPets.pets().forEach((petEl) => {
                    if (petEl.pet.canChase()) {
                        petEl.pet.chase(ballState, canvas);
                    }
                });
                break;
            case 'spawn-pet':
                exports.allPets.push(addPetToPanel(message.type, basePetUri, message.color, petSize, randomStartPosition(), floor, floor, undefined));
                saveState();
                break;
            case 'delete-pet':
                var pet = exports.allPets.locate(message.id);
                if (pet) {
                    pet.remove();
                    saveState();
                }
                break;
            case 'reset-pet':
                exports.allPets.pets().forEach((pet) => {
                    pet.el.remove();
                    pet.collision.remove();
                });
                exports.allPets.reset();
                exports.allPets.push(addPetToPanel(petType, basePetUri, petColor, petSize, randomStartPosition(), floor, floor, undefined));
                petCounter = 1;
                saveState();
                break;
            case 'pause-pet':
                petCounter = 1;
                saveState();
                break;
        }
    });
}
exports.petPanelApp = petPanelApp;
window.addEventListener('resize', function () {
    initCanvas();
});


/***/ }),

/***/ "./src/panel/pets.ts":
/*!***************************!*\
  !*** ./src/panel/pets.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createPet = exports.InvalidPetException = exports.Rocky = exports.Zappy = exports.Crab = exports.RubberDuck = exports.Clippy = exports.Snake = exports.Dog = exports.Cat = exports.Totoro = exports.PetCollection = exports.PetElement = exports.InvalidStateException = void 0;
const states_1 = __webpack_require__(/*! ./states */ "./src/panel/states.ts");
const names_1 = __webpack_require__(/*! ../common/names */ "./src/common/names.ts");
class InvalidStateException {
}
exports.InvalidStateException = InvalidStateException;
class PetElement {
    el;
    collision;
    pet;
    color;
    type;
    remove() {
        this.el.remove();
        this.collision.remove();
        this.color = "null" /* PetColor.null */;
        this.type = "null" /* PetType.null */;
    }
    constructor(el, collision, pet, color, type) {
        this.el = el;
        this.collision = collision;
        this.pet = pet;
        this.color = color;
        this.type = type;
    }
}
exports.PetElement = PetElement;
class PetCollection {
    _pets;
    constructor() {
        this._pets = new Array(0);
    }
    pets() {
        return this._pets;
    }
    push(pet) {
        this._pets.push(pet);
    }
    reset() {
        this._pets = [];
    }
    locate(name) {
        return this._pets.find((collection) => {
            return collection.pet.name() === name;
        });
    }
    remove(name) {
        for (var i = 0; i < this._pets.length; i++) {
            if (this._pets[i].pet.name() === name) {
                this._pets.splice(i, 1);
            }
        }
        this._pets.forEach((pet) => {
            if (pet.pet.name() === name) {
                pet.remove();
            }
        });
    }
    seekNewFriends() {
        if (this._pets.length <= 1) {
            return [];
        } // You can't be friends with yourself.
        var messages = new Array(0);
        this._pets.forEach((petInCollection) => {
            if (petInCollection.pet.hasFriend()) {
                return;
            } // I already have a friend!
            this._pets.forEach((potentialFriend) => {
                if (potentialFriend.pet.hasFriend()) {
                    return;
                } // Already has a friend. sorry.
                if (!potentialFriend.pet.canChase()) {
                    return;
                } // Pet is busy doing something else.
                if (potentialFriend.pet.left() > petInCollection.pet.left() &&
                    potentialFriend.pet.left() <
                        petInCollection.pet.left() + petInCollection.pet.width()) {
                    // We found a possible new friend..
                    console.log(petInCollection.pet.name(), ' wants to be friends with ', potentialFriend.pet.name(), '.');
                    if (petInCollection.pet.makeFriendsWith(potentialFriend.pet)) {
                        messages.push(`${petInCollection.pet.name()} (${petInCollection.pet.emoji()}): I'm now friends ❤️ with ${potentialFriend.pet.name()} (${potentialFriend.pet.emoji()})`);
                    }
                }
            });
        });
        return messages;
    }
}
exports.PetCollection = PetCollection;
function calculateSpriteWidth(size) {
    if (size === "nano" /* PetSize.nano */) {
        return 30;
    }
    else if (size === "medium" /* PetSize.medium */) {
        return 55;
    }
    else if (size === "large" /* PetSize.large */) {
        return 110;
    }
    else {
        return 30; // Shrug
    }
}
class BasePetType {
    label = 'base';
    static count = 0;
    sequence = {
        startingState: "sit-idle" /* States.sitIdle */,
        sequenceStates: [],
    };
    currentState;
    currentStateEnum;
    holdState;
    holdStateEnum;
    el;
    collision;
    _left;
    _bottom;
    petRoot;
    _floor;
    _friend;
    _name;
    _speed;
    constructor(spriteElement, collisionElement, size, left, bottom, petRoot, floor, name, speed) {
        this.el = spriteElement;
        this.collision = collisionElement;
        this.petRoot = petRoot;
        this._floor = floor;
        this._left = left;
        this._bottom = bottom;
        this.initSprite(size, left, bottom);
        this.currentStateEnum = this.sequence.startingState;
        this.currentState = (0, states_1.resolveState)(this.currentStateEnum, this);
        this._name = name;
        this._speed = speed;
        // Increment the static count of the Pet class that the constructor belongs to
        this.constructor.count += 1;
    }
    initSprite(petSize, left, bottom) {
        this.el.style.left = `${left}px`;
        this.el.style.bottom = `${bottom}px`;
        this.el.style.width = 'auto';
        this.el.style.height = 'auto';
        this.el.style.maxWidth = `${calculateSpriteWidth(petSize)}px`;
        this.el.style.maxHeight = `${calculateSpriteWidth(petSize)}px`;
        this.collision.style.left = `${left}px`;
        this.collision.style.bottom = `${bottom}px`;
        this.collision.style.width = `${calculateSpriteWidth(petSize)}px`;
        this.collision.style.height = `${calculateSpriteWidth(petSize)}px`;
    }
    left() {
        return this._left;
    }
    bottom() {
        return this._bottom;
    }
    positionBottom(bottom) {
        this._bottom = bottom;
        this.el.style.bottom = `${this._bottom}px`;
        this.el.style.bottom = `${this._bottom}px`;
        this.collision.style.left = `${this._left}px`;
        this.collision.style.bottom = `${this._bottom}px`;
    }
    positionLeft(left) {
        this._left = left;
        this.el.style.left = `${this._left}px`;
        this.el.style.left = `${this._left}px`;
        this.collision.style.left = `${this._left}px`;
        this.collision.style.bottom = `${this._bottom}px`;
    }
    width() {
        return this.el.width;
    }
    floor() {
        return this._floor;
    }
    getState() {
        return { currentStateEnum: this.currentStateEnum };
    }
    speed() {
        return this._speed;
    }
    isMoving() {
        return this._speed !== 0 /* PetSpeed.still */;
    }
    recoverFriend(friend) {
        // Recover friends..
        this._friend = friend;
    }
    recoverState(state) {
        // TODO : Resolve a bug where if it was swiping before, it would fail
        // because holdState is no longer valid.
        this.currentStateEnum = state.currentStateEnum;
        this.currentState = (0, states_1.resolveState)(this.currentStateEnum, this);
        if (!(0, states_1.isStateAboveGround)(this.currentStateEnum)) {
            // Reset the bottom of the sprite to the floor as the theme
            // has likely changed.
            this.positionBottom(this.floor());
        }
    }
    canSwipe() {
        return !(0, states_1.isStateAboveGround)(this.currentStateEnum);
    }
    canChase() {
        return (!(0, states_1.isStateAboveGround)(this.currentStateEnum) &&
            this.currentStateEnum !== "chase" /* States.chase */ &&
            this.isMoving());
    }
    swipe() {
        if (this.currentStateEnum === "swipe" /* States.swipe */) {
            return;
        }
        this.holdState = this.currentState;
        this.holdStateEnum = this.currentStateEnum;
        this.currentStateEnum = "swipe" /* States.swipe */;
        this.currentState = (0, states_1.resolveState)(this.currentStateEnum, this);
    }
    chase(ballState, canvas) {
        this.currentStateEnum = "chase" /* States.chase */;
        this.currentState = new states_1.ChaseState(this, ballState, canvas);
    }
    faceLeft() {
        this.el.style.transform = 'scaleX(-1)';
    }
    faceRight() {
        this.el.style.transform = 'scaleX(1)';
    }
    setAnimation(face) {
        if (this.el.src.endsWith(`_${face}_8fps.gif`)) {
            return;
        }
        this.el.src = `${this.petRoot}_${face}_8fps.gif`;
    }
    chooseNextState(fromState) {
        // Work out next state
        var possibleNextStates = undefined;
        for (var i = 0; i < this.sequence.sequenceStates.length; i++) {
            if (this.sequence.sequenceStates[i].state === fromState) {
                possibleNextStates =
                    this.sequence.sequenceStates[i].possibleNextStates;
            }
        }
        if (!possibleNextStates) {
            throw new InvalidStateException();
        }
        // randomly choose the next state
        const idx = Math.floor(Math.random() * possibleNextStates.length);
        return possibleNextStates[idx];
    }
    nextFrame() {
        if (this.currentState.horizontalDirection === states_1.HorizontalDirection.left) {
            this.faceLeft();
        }
        else if (this.currentState.horizontalDirection === states_1.HorizontalDirection.right) {
            this.faceRight();
        }
        this.setAnimation(this.currentState.spriteLabel);
        // What's my buddy doing?
        if (this.hasFriend() &&
            this.currentStateEnum !== "chase-friend" /* States.chaseFriend */ &&
            this.isMoving()) {
            if (this.friend().isPlaying() &&
                !(0, states_1.isStateAboveGround)(this.currentStateEnum)) {
                this.currentState = (0, states_1.resolveState)("chase-friend" /* States.chaseFriend */, this);
                this.currentStateEnum = "chase-friend" /* States.chaseFriend */;
                return;
            }
        }
        var frameResult = this.currentState.nextFrame();
        if (frameResult === states_1.FrameResult.stateComplete) {
            // If recovering from swipe..
            if (this.holdState && this.holdStateEnum) {
                this.currentState = this.holdState;
                this.currentStateEnum = this.holdStateEnum;
                this.holdState = undefined;
                this.holdStateEnum = undefined;
                return;
            }
            var nextState = this.chooseNextState(this.currentStateEnum);
            this.currentState = (0, states_1.resolveState)(nextState, this);
            this.currentStateEnum = nextState;
        }
        else if (frameResult === states_1.FrameResult.stateCancel) {
            if (this.currentStateEnum === "chase" /* States.chase */) {
                var nextState = this.chooseNextState("idle-with-ball" /* States.idleWithBall */);
                this.currentState = (0, states_1.resolveState)(nextState, this);
                this.currentStateEnum = nextState;
            }
            else if (this.currentStateEnum === "chase-friend" /* States.chaseFriend */) {
                var nextState = this.chooseNextState("idle-with-ball" /* States.idleWithBall */);
                this.currentState = (0, states_1.resolveState)(nextState, this);
                this.currentStateEnum = nextState;
            }
        }
    }
    hasFriend() {
        return this._friend !== undefined;
    }
    friend() {
        return this._friend;
    }
    name() {
        return this._name;
    }
    makeFriendsWith(friend) {
        this._friend = friend;
        console.log(this.name(), ": I'm now friends ❤️ with ", friend.name());
        return true;
    }
    isPlaying() {
        return (this.isMoving() &&
            (this.currentStateEnum === "run-right" /* States.runRight */ ||
                this.currentStateEnum === "run-left" /* States.runLeft */));
    }
    emoji() {
        return '🐶';
    }
}
class Totoro extends BasePetType {
    label = 'totoro';
    sequence = {
        startingState: "sit-idle" /* States.sitIdle */,
        sequenceStates: [
            {
                state: "sit-idle" /* States.sitIdle */,
                possibleNextStates: ["walk-right" /* States.walkRight */, "lie" /* States.lie */],
            },
            {
                state: "lie" /* States.lie */,
                possibleNextStates: ["walk-right" /* States.walkRight */, "walk-left" /* States.walkLeft */],
            },
            {
                state: "walk-right" /* States.walkRight */,
                possibleNextStates: ["walk-left" /* States.walkLeft */, "sit-idle" /* States.sitIdle */],
            },
            {
                state: "walk-left" /* States.walkLeft */,
                possibleNextStates: [
                    "sit-idle" /* States.sitIdle */,
                    "climb-wall-left" /* States.climbWallLeft */,
                    "sit-idle" /* States.sitIdle */,
                ],
            },
            {
                state: "climb-wall-left" /* States.climbWallLeft */,
                possibleNextStates: ["wall-hang-left" /* States.wallHangLeft */],
            },
            {
                state: "wall-hang-left" /* States.wallHangLeft */,
                possibleNextStates: ["jump-down-left" /* States.jumpDownLeft */],
            },
            {
                state: "jump-down-left" /* States.jumpDownLeft */,
                possibleNextStates: ["land" /* States.land */],
            },
            {
                state: "land" /* States.land */,
                possibleNextStates: [
                    "sit-idle" /* States.sitIdle */,
                    "walk-right" /* States.walkRight */,
                    "lie" /* States.lie */,
                ],
            },
            {
                state: "chase" /* States.chase */,
                possibleNextStates: ["idle-with-ball" /* States.idleWithBall */],
            },
            {
                state: "idle-with-ball" /* States.idleWithBall */,
                possibleNextStates: ["walk-right" /* States.walkRight */, "walk-left" /* States.walkLeft */],
            },
        ],
    };
    emoji() {
        return '🐾';
    }
}
exports.Totoro = Totoro;
class Cat extends BasePetType {
    label = 'cat';
    sequence = {
        startingState: "sit-idle" /* States.sitIdle */,
        sequenceStates: [
            {
                state: "sit-idle" /* States.sitIdle */,
                possibleNextStates: ["walk-right" /* States.walkRight */, "run-right" /* States.runRight */],
            },
            {
                state: "walk-right" /* States.walkRight */,
                possibleNextStates: ["walk-left" /* States.walkLeft */, "run-left" /* States.runLeft */],
            },
            {
                state: "run-right" /* States.runRight */,
                possibleNextStates: ["walk-left" /* States.walkLeft */, "run-left" /* States.runLeft */],
            },
            {
                state: "walk-left" /* States.walkLeft */,
                possibleNextStates: [
                    "sit-idle" /* States.sitIdle */,
                    "climb-wall-left" /* States.climbWallLeft */,
                    "walk-right" /* States.walkRight */,
                    "run-right" /* States.runRight */,
                ],
            },
            {
                state: "run-left" /* States.runLeft */,
                possibleNextStates: [
                    "sit-idle" /* States.sitIdle */,
                    "climb-wall-left" /* States.climbWallLeft */,
                    "walk-right" /* States.walkRight */,
                    "run-right" /* States.runRight */,
                ],
            },
            {
                state: "climb-wall-left" /* States.climbWallLeft */,
                possibleNextStates: ["wall-hang-left" /* States.wallHangLeft */],
            },
            {
                state: "wall-hang-left" /* States.wallHangLeft */,
                possibleNextStates: ["jump-down-left" /* States.jumpDownLeft */],
            },
            {
                state: "jump-down-left" /* States.jumpDownLeft */,
                possibleNextStates: ["land" /* States.land */],
            },
            {
                state: "land" /* States.land */,
                possibleNextStates: [
                    "sit-idle" /* States.sitIdle */,
                    "walk-right" /* States.walkRight */,
                    "run-right" /* States.runRight */,
                ],
            },
            {
                state: "chase" /* States.chase */,
                possibleNextStates: ["idle-with-ball" /* States.idleWithBall */],
            },
            {
                state: "idle-with-ball" /* States.idleWithBall */,
                possibleNextStates: [
                    "walk-right" /* States.walkRight */,
                    "walk-left" /* States.walkLeft */,
                    "run-left" /* States.runLeft */,
                    "run-right" /* States.runRight */,
                ],
            },
        ],
    };
    emoji() {
        return '🐱';
    }
}
exports.Cat = Cat;
class Dog extends BasePetType {
    label = 'dog';
    sequence = {
        startingState: "sit-idle" /* States.sitIdle */,
        sequenceStates: [
            {
                state: "sit-idle" /* States.sitIdle */,
                possibleNextStates: [
                    "walk-right" /* States.walkRight */,
                    "run-right" /* States.runRight */,
                    "lie" /* States.lie */,
                ],
            },
            {
                state: "lie" /* States.lie */,
                possibleNextStates: ["walk-right" /* States.walkRight */, "run-right" /* States.runRight */],
            },
            {
                state: "walk-right" /* States.walkRight */,
                possibleNextStates: ["walk-left" /* States.walkLeft */, "run-left" /* States.runLeft */],
            },
            {
                state: "run-right" /* States.runRight */,
                possibleNextStates: ["walk-left" /* States.walkLeft */, "run-left" /* States.runLeft */],
            },
            {
                state: "walk-left" /* States.walkLeft */,
                possibleNextStates: [
                    "sit-idle" /* States.sitIdle */,
                    "lie" /* States.lie */,
                    "walk-right" /* States.walkRight */,
                    "run-right" /* States.runRight */,
                ],
            },
            {
                state: "run-left" /* States.runLeft */,
                possibleNextStates: [
                    "sit-idle" /* States.sitIdle */,
                    "lie" /* States.lie */,
                    "walk-right" /* States.walkRight */,
                    "run-right" /* States.runRight */,
                ],
            },
            {
                state: "chase" /* States.chase */,
                possibleNextStates: ["idle-with-ball" /* States.idleWithBall */],
            },
            {
                state: "idle-with-ball" /* States.idleWithBall */,
                possibleNextStates: [
                    "walk-right" /* States.walkRight */,
                    "walk-left" /* States.walkLeft */,
                    "run-left" /* States.runLeft */,
                    "run-right" /* States.runRight */,
                ],
            },
        ],
    };
    emoji() {
        return '🐶';
    }
}
exports.Dog = Dog;
class Snake extends BasePetType {
    label = 'snake';
    sequence = {
        startingState: "sit-idle" /* States.sitIdle */,
        sequenceStates: [
            {
                state: "sit-idle" /* States.sitIdle */,
                possibleNextStates: ["walk-right" /* States.walkRight */, "run-right" /* States.runRight */],
            },
            {
                state: "walk-right" /* States.walkRight */,
                possibleNextStates: ["walk-left" /* States.walkLeft */, "run-left" /* States.runLeft */],
            },
            {
                state: "run-right" /* States.runRight */,
                possibleNextStates: ["walk-left" /* States.walkLeft */, "run-left" /* States.runLeft */],
            },
            {
                state: "walk-left" /* States.walkLeft */,
                possibleNextStates: [
                    "sit-idle" /* States.sitIdle */,
                    "walk-right" /* States.walkRight */,
                    "run-right" /* States.runRight */,
                ],
            },
            {
                state: "run-left" /* States.runLeft */,
                possibleNextStates: [
                    "sit-idle" /* States.sitIdle */,
                    "walk-right" /* States.walkRight */,
                    "run-right" /* States.runRight */,
                ],
            },
            {
                state: "chase" /* States.chase */,
                possibleNextStates: ["idle-with-ball" /* States.idleWithBall */],
            },
            {
                state: "idle-with-ball" /* States.idleWithBall */,
                possibleNextStates: [
                    "walk-right" /* States.walkRight */,
                    "walk-left" /* States.walkLeft */,
                    "run-left" /* States.runLeft */,
                    "run-right" /* States.runRight */,
                ],
            },
        ],
    };
    emoji() {
        return '🐍';
    }
}
exports.Snake = Snake;
class Clippy extends BasePetType {
    label = 'clippy';
    sequence = {
        startingState: "sit-idle" /* States.sitIdle */,
        sequenceStates: [
            {
                state: "sit-idle" /* States.sitIdle */,
                possibleNextStates: ["walk-right" /* States.walkRight */, "run-right" /* States.runRight */],
            },
            {
                state: "walk-right" /* States.walkRight */,
                possibleNextStates: ["walk-left" /* States.walkLeft */, "run-left" /* States.runLeft */],
            },
            {
                state: "run-right" /* States.runRight */,
                possibleNextStates: ["walk-left" /* States.walkLeft */, "run-left" /* States.runLeft */],
            },
            {
                state: "walk-left" /* States.walkLeft */,
                possibleNextStates: ["sit-idle" /* States.sitIdle */],
            },
            {
                state: "run-left" /* States.runLeft */,
                possibleNextStates: ["sit-idle" /* States.sitIdle */],
            },
            {
                state: "chase" /* States.chase */,
                possibleNextStates: ["idle-with-ball" /* States.idleWithBall */],
            },
            {
                state: "idle-with-ball" /* States.idleWithBall */,
                possibleNextStates: [
                    "walk-right" /* States.walkRight */,
                    "walk-left" /* States.walkLeft */,
                    "run-left" /* States.runLeft */,
                    "run-right" /* States.runRight */,
                ],
            },
        ],
    };
    emoji() {
        return '📎';
    }
}
exports.Clippy = Clippy;
class RubberDuck extends BasePetType {
    label = 'rubber-duck';
    sequence = {
        startingState: "sit-idle" /* States.sitIdle */,
        sequenceStates: [
            {
                state: "sit-idle" /* States.sitIdle */,
                possibleNextStates: ["walk-right" /* States.walkRight */, "run-right" /* States.runRight */],
            },
            {
                state: "walk-right" /* States.walkRight */,
                possibleNextStates: ["walk-left" /* States.walkLeft */, "run-left" /* States.runLeft */],
            },
            {
                state: "run-right" /* States.runRight */,
                possibleNextStates: ["walk-left" /* States.walkLeft */, "run-left" /* States.runLeft */],
            },
            {
                state: "walk-left" /* States.walkLeft */,
                possibleNextStates: ["sit-idle" /* States.sitIdle */],
            },
            {
                state: "run-left" /* States.runLeft */,
                possibleNextStates: ["sit-idle" /* States.sitIdle */],
            },
            {
                state: "chase" /* States.chase */,
                possibleNextStates: ["idle-with-ball" /* States.idleWithBall */],
            },
            {
                state: "idle-with-ball" /* States.idleWithBall */,
                possibleNextStates: [
                    "walk-right" /* States.walkRight */,
                    "walk-left" /* States.walkLeft */,
                    "run-left" /* States.runLeft */,
                    "run-right" /* States.runRight */,
                ],
            },
        ],
    };
    emoji() {
        return '🐥';
    }
}
exports.RubberDuck = RubberDuck;
class Crab extends BasePetType {
    label = 'crab';
    sequence = {
        startingState: "sit-idle" /* States.sitIdle */,
        sequenceStates: [
            {
                state: "sit-idle" /* States.sitIdle */,
                possibleNextStates: ["walk-right" /* States.walkRight */, "run-right" /* States.runRight */],
            },
            {
                state: "walk-right" /* States.walkRight */,
                possibleNextStates: ["walk-left" /* States.walkLeft */, "run-left" /* States.runLeft */],
            },
            {
                state: "run-right" /* States.runRight */,
                possibleNextStates: ["walk-left" /* States.walkLeft */, "run-left" /* States.runLeft */],
            },
            {
                state: "walk-left" /* States.walkLeft */,
                possibleNextStates: ["sit-idle" /* States.sitIdle */],
            },
            {
                state: "run-left" /* States.runLeft */,
                possibleNextStates: ["sit-idle" /* States.sitIdle */],
            },
            {
                state: "chase" /* States.chase */,
                possibleNextStates: ["idle-with-ball" /* States.idleWithBall */],
            },
            {
                state: "idle-with-ball" /* States.idleWithBall */,
                possibleNextStates: [
                    "walk-right" /* States.walkRight */,
                    "walk-left" /* States.walkLeft */,
                    "run-left" /* States.runLeft */,
                    "run-right" /* States.runRight */,
                ],
            },
        ],
    };
    emoji() {
        return '🦀';
    }
}
exports.Crab = Crab;
class Zappy extends BasePetType {
    label = 'zappy';
    sequence = {
        startingState: "sit-idle" /* States.sitIdle */,
        sequenceStates: [
            {
                state: "sit-idle" /* States.sitIdle */,
                possibleNextStates: ["walk-right" /* States.walkRight */, "run-right" /* States.runRight */],
            },
            {
                state: "walk-right" /* States.walkRight */,
                possibleNextStates: ["walk-left" /* States.walkLeft */, "run-left" /* States.runLeft */],
            },
            {
                state: "run-right" /* States.runRight */,
                possibleNextStates: ["walk-left" /* States.walkLeft */, "run-left" /* States.runLeft */],
            },
            {
                state: "walk-left" /* States.walkLeft */,
                possibleNextStates: ["sit-idle" /* States.sitIdle */],
            },
            {
                state: "run-left" /* States.runLeft */,
                possibleNextStates: ["sit-idle" /* States.sitIdle */],
            },
            {
                state: "chase" /* States.chase */,
                possibleNextStates: ["idle-with-ball" /* States.idleWithBall */],
            },
            {
                state: "idle-with-ball" /* States.idleWithBall */,
                possibleNextStates: [
                    "walk-right" /* States.walkRight */,
                    "walk-left" /* States.walkLeft */,
                    "run-left" /* States.runLeft */,
                    "run-right" /* States.runRight */,
                ],
            },
        ],
    };
    emoji() {
        return '⚡';
    }
}
exports.Zappy = Zappy;
class Rocky extends BasePetType {
    label = 'rocky';
    sequence = {
        startingState: "sit-idle" /* States.sitIdle */,
        sequenceStates: [
            {
                state: "sit-idle" /* States.sitIdle */,
                possibleNextStates: ["walk-right" /* States.walkRight */, "run-right" /* States.runRight */],
            },
            {
                state: "walk-right" /* States.walkRight */,
                possibleNextStates: ["sit-idle" /* States.sitIdle */, "run-right" /* States.runRight */],
            },
            {
                state: "run-right" /* States.runRight */,
                possibleNextStates: ["sit-idle" /* States.sitIdle */, "walk-right" /* States.walkRight */],
            },
        ],
    };
    emoji() {
        return '💎';
    }
    canChase() {
        return false;
    }
}
exports.Rocky = Rocky;
class InvalidPetException {
}
exports.InvalidPetException = InvalidPetException;
function getPetName(collection, label, count) {
    if (collection.has(count)) {
        return collection.get(count);
    }
    else {
        return label + count;
    }
}
function createPet(petType, el, collision, size, left, bottom, petRoot, floor, name) {
    if (petType === 'totoro') {
        if (name === undefined) {
            name = getPetName(names_1.TOTORO_NAMES, "totoro" /* PetType.totoro */, Totoro.count + 1);
        }
        return new Totoro(el, collision, size, left, bottom, petRoot, floor, name, 3 /* PetSpeed.normal */);
    }
    if (petType === 'cat') {
        if (name === undefined) {
            name = getPetName(names_1.CAT_NAMES, "cat" /* PetType.cat */, Cat.count + Dog.count + 1);
        } // Cat and dog share the same name list
        return new Cat(el, collision, size, left, bottom, petRoot, floor, name, 3 /* PetSpeed.normal */);
    }
    else if (petType === 'dog') {
        if (name === undefined) {
            name = getPetName(names_1.DOG_NAMES, "dog" /* PetType.dog */, Dog.count + Cat.count + 1);
        } // Cat and dog share the same name list
        return new Dog(el, collision, size, left, bottom, petRoot, floor, name, 3 /* PetSpeed.normal */);
    }
    else if (petType === 'snake') {
        if (name === undefined) {
            name = getPetName(names_1.SNAKE_NAMES, "snake" /* PetType.snake */, Snake.count + 1);
        }
        return new Snake(el, collision, size, left, bottom, petRoot, floor, name, 1 /* PetSpeed.verySlow */);
    }
    else if (petType === 'clippy') {
        if (name === undefined) {
            name = getPetName(names_1.CLIPPY_NAMES, "clippy" /* PetType.clippy */, Clippy.count + 1);
        }
        return new Clippy(el, collision, size, left, bottom, petRoot, floor, name, 2 /* PetSpeed.slow */);
    }
    else if (petType === 'crab') {
        if (name === undefined) {
            name = getPetName(names_1.CRAB_NAMES, "crab" /* PetType.crab */, Crab.count + 1);
        }
        return new Crab(el, collision, size, left, bottom, petRoot, floor, name, 2 /* PetSpeed.slow */);
    }
    else if (petType === 'rubber-duck') {
        if (name === undefined) {
            name = getPetName(names_1.DUCK_NAMES, "rubber-duck" /* PetType.rubberduck */, RubberDuck.count + 1);
        }
        return new RubberDuck(el, collision, size, left, bottom, petRoot, floor, name, 4 /* PetSpeed.fast */);
    }
    else if (petType === 'zappy') {
        if (name === undefined) {
            name = getPetName(names_1.ZAPPY_NAMES, "zappy" /* PetType.zappy */, Zappy.count + 1);
        }
        return new Zappy(el, collision, size, left, bottom, petRoot, floor, name, 5 /* PetSpeed.veryFast */);
    }
    else if (petType === 'rocky') {
        if (name === undefined) {
            name = getPetName(names_1.ROCKY_NAMES, "rocky" /* PetType.rocky */, Rocky.count + 1);
        }
        return new Rocky(el, collision, size, left, bottom, petRoot, floor, name, 0 /* PetSpeed.still */);
    }
    throw new InvalidPetException();
}
exports.createPet = createPet;


/***/ }),

/***/ "./src/panel/states.ts":
/*!*****************************!*\
  !*** ./src/panel/states.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.JumpDownLeftState = exports.ClimbWallLeftState = exports.ChaseFriendState = exports.ChaseState = exports.RunLeftState = exports.RunRightState = exports.WalkLeftState = exports.WalkRightState = exports.IdleWithBallState = exports.SwipeState = exports.LandState = exports.WallHangLeftState = exports.LieState = exports.SitIdleState = exports.resolveState = exports.isStateAboveGround = exports.BallState = exports.FrameResult = exports.HorizontalDirection = exports.PetPanelState = exports.PetElementState = exports.PetInstanceState = void 0;
class PetInstanceState {
    currentStateEnum;
}
exports.PetInstanceState = PetInstanceState;
class PetElementState {
    petState;
    petType;
    petColor;
    elLeft;
    elBottom;
    petName;
    petFriend;
}
exports.PetElementState = PetElementState;
class PetPanelState {
    petStates;
    petCounter;
}
exports.PetPanelState = PetPanelState;
var HorizontalDirection;
(function (HorizontalDirection) {
    HorizontalDirection[HorizontalDirection["left"] = 0] = "left";
    HorizontalDirection[HorizontalDirection["right"] = 1] = "right";
    HorizontalDirection[HorizontalDirection["natural"] = 2] = "natural";
})(HorizontalDirection = exports.HorizontalDirection || (exports.HorizontalDirection = {}));
var FrameResult;
(function (FrameResult) {
    FrameResult[FrameResult["stateContinue"] = 0] = "stateContinue";
    FrameResult[FrameResult["stateComplete"] = 1] = "stateComplete";
    // Special states
    FrameResult[FrameResult["stateCancel"] = 2] = "stateCancel";
})(FrameResult = exports.FrameResult || (exports.FrameResult = {}));
class BallState {
    cx;
    cy;
    vx;
    vy;
    paused;
    constructor(cx, cy, vx, vy) {
        this.cx = cx;
        this.cy = cy;
        this.vx = vx;
        this.vy = vy;
        this.paused = false;
    }
}
exports.BallState = BallState;
function isStateAboveGround(state) {
    return (state === "climb-wall-left" /* States.climbWallLeft */ ||
        state === "jump-down-left" /* States.jumpDownLeft */ ||
        state === "land" /* States.land */ ||
        state === "wall-hang-left" /* States.wallHangLeft */);
}
exports.isStateAboveGround = isStateAboveGround;
function resolveState(state, pet) {
    switch (state) {
        case "sit-idle" /* States.sitIdle */:
            return new SitIdleState(pet);
        case "walk-right" /* States.walkRight */:
            return new WalkRightState(pet);
        case "walk-left" /* States.walkLeft */:
            return new WalkLeftState(pet);
        case "run-right" /* States.runRight */:
            return new RunRightState(pet);
        case "run-left" /* States.runLeft */:
            return new RunLeftState(pet);
        case "lie" /* States.lie */:
            return new LieState(pet);
        case "wall-hang-left" /* States.wallHangLeft */:
            return new WallHangLeftState(pet);
        case "climb-wall-left" /* States.climbWallLeft */:
            return new ClimbWallLeftState(pet);
        case "jump-down-left" /* States.jumpDownLeft */:
            return new JumpDownLeftState(pet);
        case "land" /* States.land */:
            return new LandState(pet);
        case "swipe" /* States.swipe */:
            return new SwipeState(pet);
        case "idle-with-ball" /* States.idleWithBall */:
            return new IdleWithBallState(pet);
        case "chase-friend" /* States.chaseFriend */:
            return new ChaseFriendState(pet);
    }
    return new SitIdleState(pet);
}
exports.resolveState = resolveState;
class AbstractStaticState {
    label = "sit-idle" /* States.sitIdle */;
    idleCounter;
    spriteLabel = 'idle';
    holdTime = 50;
    pet;
    horizontalDirection = HorizontalDirection.left;
    constructor(pet) {
        this.idleCounter = 0;
        this.pet = pet;
    }
    nextFrame() {
        this.idleCounter++;
        if (this.idleCounter > this.holdTime) {
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
class SitIdleState extends AbstractStaticState {
    label = "sit-idle" /* States.sitIdle */;
    spriteLabel = 'idle';
    horizontalDirection = HorizontalDirection.right;
    holdTime = 50;
}
exports.SitIdleState = SitIdleState;
class LieState extends AbstractStaticState {
    label = "lie" /* States.lie */;
    spriteLabel = 'lie';
    horizontalDirection = HorizontalDirection.right;
    holdTime = 50;
}
exports.LieState = LieState;
class WallHangLeftState extends AbstractStaticState {
    label = "wall-hang-left" /* States.wallHangLeft */;
    spriteLabel = 'wallgrab';
    horizontalDirection = HorizontalDirection.left;
    holdTime = 50;
}
exports.WallHangLeftState = WallHangLeftState;
class LandState extends AbstractStaticState {
    label = "land" /* States.land */;
    spriteLabel = 'land';
    horizontalDirection = HorizontalDirection.left;
    holdTime = 10;
}
exports.LandState = LandState;
class SwipeState extends AbstractStaticState {
    label = "swipe" /* States.swipe */;
    spriteLabel = 'swipe';
    horizontalDirection = HorizontalDirection.natural;
    holdTime = 15;
}
exports.SwipeState = SwipeState;
class IdleWithBallState extends AbstractStaticState {
    label = "idle-with-ball" /* States.idleWithBall */;
    spriteLabel = 'with_ball';
    horizontalDirection = HorizontalDirection.left;
    holdTime = 30;
}
exports.IdleWithBallState = IdleWithBallState;
class WalkRightState {
    label = "walk-right" /* States.walkRight */;
    pet;
    spriteLabel = 'walk';
    horizontalDirection = HorizontalDirection.right;
    leftBoundary;
    speedMultiplier = 1;
    idleCounter;
    holdTime = 60;
    constructor(pet) {
        this.leftBoundary = Math.floor(window.innerWidth * 0.95);
        this.pet = pet;
        this.idleCounter = 0;
    }
    nextFrame() {
        this.idleCounter++;
        this.pet.positionLeft(this.pet.left() + this.pet.speed() * this.speedMultiplier);
        if (this.pet.isMoving() &&
            this.pet.left() >= this.leftBoundary - this.pet.width()) {
            return FrameResult.stateComplete;
        }
        else if (!this.pet.isMoving() && this.idleCounter > this.holdTime) {
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
exports.WalkRightState = WalkRightState;
class WalkLeftState {
    label = "walk-left" /* States.walkLeft */;
    spriteLabel = 'walk';
    horizontalDirection = HorizontalDirection.left;
    pet;
    speedMultiplier = 1;
    idleCounter;
    holdTime = 60;
    constructor(pet) {
        this.pet = pet;
        this.idleCounter = 0;
    }
    nextFrame() {
        this.pet.positionLeft(this.pet.left() - this.pet.speed() * this.speedMultiplier);
        if (this.pet.isMoving() && this.pet.left() <= 0) {
            return FrameResult.stateComplete;
        }
        else if (!this.pet.isMoving() && this.idleCounter > this.holdTime) {
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
exports.WalkLeftState = WalkLeftState;
class RunRightState extends WalkRightState {
    label = "run-right" /* States.runRight */;
    spriteLabel = 'walk_fast';
    speedMultiplier = 1.6;
    holdTime = 130;
}
exports.RunRightState = RunRightState;
class RunLeftState extends WalkLeftState {
    label = "run-left" /* States.runLeft */;
    spriteLabel = 'walk_fast';
    speedMultiplier = 1.6;
    holdTime = 130;
}
exports.RunLeftState = RunLeftState;
class ChaseState {
    label = "chase" /* States.chase */;
    spriteLabel = 'run';
    horizontalDirection = HorizontalDirection.left;
    ballState;
    canvas;
    pet;
    constructor(pet, ballState, canvas) {
        this.pet = pet;
        this.ballState = ballState;
        this.canvas = canvas;
    }
    nextFrame() {
        if (this.ballState.paused) {
            return FrameResult.stateCancel; // Ball is already caught
        }
        if (this.pet.left() > this.ballState.cx) {
            this.horizontalDirection = HorizontalDirection.left;
            this.pet.positionLeft(this.pet.left() - this.pet.speed());
        }
        else {
            this.horizontalDirection = HorizontalDirection.right;
            this.pet.positionLeft(this.pet.left() + this.pet.speed());
        }
        if (this.canvas.height - this.ballState.cy <
            this.pet.width() + this.pet.floor() &&
            this.ballState.cx < this.pet.left() &&
            this.pet.left() < this.ballState.cx + 15) {
            // hide ball
            this.canvas.style.display = 'none';
            this.ballState.paused = true;
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
exports.ChaseState = ChaseState;
class ChaseFriendState {
    label = "chase-friend" /* States.chaseFriend */;
    spriteLabel = 'run';
    horizontalDirection = HorizontalDirection.left;
    pet;
    constructor(pet) {
        this.pet = pet;
    }
    nextFrame() {
        if (!this.pet.friend().isPlaying()) {
            return FrameResult.stateCancel; // Friend is no longer playing.
        }
        if (this.pet.left() > this.pet.friend().left()) {
            this.horizontalDirection = HorizontalDirection.left;
            this.pet.positionLeft(this.pet.left() - this.pet.speed());
        }
        else {
            this.horizontalDirection = HorizontalDirection.right;
            this.pet.positionLeft(this.pet.left() + this.pet.speed());
        }
        return FrameResult.stateContinue;
    }
}
exports.ChaseFriendState = ChaseFriendState;
class ClimbWallLeftState {
    label = "climb-wall-left" /* States.climbWallLeft */;
    spriteLabel = 'wallclimb';
    horizontalDirection = HorizontalDirection.left;
    pet;
    constructor(pet) {
        this.pet = pet;
    }
    nextFrame() {
        this.pet.positionBottom(this.pet.bottom() + 1);
        if (this.pet.bottom() >= 100) {
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
exports.ClimbWallLeftState = ClimbWallLeftState;
class JumpDownLeftState {
    label = "jump-down-left" /* States.jumpDownLeft */;
    spriteLabel = 'fall_from_grab';
    horizontalDirection = HorizontalDirection.right;
    pet;
    constructor(pet) {
        this.pet = pet;
    }
    nextFrame() {
        this.pet.positionBottom(this.pet.bottom() - 5);
        if (this.pet.bottom() <= this.pet.floor()) {
            this.pet.positionBottom(this.pet.floor());
            return FrameResult.stateComplete;
        }
        return FrameResult.stateContinue;
    }
}
exports.JumpDownLeftState = JumpDownLeftState;


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/panel/main.ts");
/******/ 	self.petApp = __webpack_exports__;
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi1idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFhLGlCQUFTLEdBQXdCLElBQUksR0FBRyxDQUFpQjtJQUNsRSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUM7SUFDWixDQUFDLENBQUMsRUFBRSxTQUFTLENBQUM7SUFDZCxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUM7SUFDVixDQUFDLENBQUMsRUFBRSxPQUFPLENBQUM7SUFDWixDQUFDLENBQUMsRUFBRSxNQUFNLENBQUM7SUFDWCxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUM7SUFDWixDQUFDLENBQUMsRUFBRSxNQUFNLENBQUM7SUFDWCxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUM7SUFDWixDQUFDLENBQUMsRUFBRSxNQUFNLENBQUM7SUFDWCxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUM7SUFDWixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUM7SUFDWixDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUM7SUFDZixDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUM7SUFDWixDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUM7SUFDWixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUM7SUFDWixDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUM7SUFDWixDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUM7SUFDWixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUM7SUFDWixDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUM7SUFDWixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUM7SUFDWCxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUM7SUFDWCxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUM7SUFDWixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUM7SUFDWixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUM7SUFDZixDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUM7SUFDWixDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUM7SUFDWCxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUM7SUFDWCxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUM7SUFDWCxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUM7SUFDWixDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUM7SUFDZCxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUM7SUFDWCxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUM7SUFDWCxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUM7SUFDYixDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUM7SUFDZixDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUM7SUFDWCxDQUFDLEVBQUUsRUFBRSxPQUFP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QUMsQ0FBQyxDQUFDO1FBQy9DLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQ3ZDLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztZQUMxQyxPQUFPLFdBQVcsQ0FBQyxhQUFhLENBQUM7U0FDcEM7UUFDRCxPQUFPLFdBQVcsQ0FBQyxhQUFhLENBQUM7SUFDckMsQ0FBQztDQUNKO0FBbEJELDhDQWtCQzs7Ozs7OztVQzVXRDtVQUNBOztVQUVBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBOztVQUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBOzs7O1VFdEJBO1VBQ0E7VUFDQTtVQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGV0QXBwLy4vc3JjL2NvbW1vbi9uYW1lcy50cyIsIndlYnBhY2s6Ly9wZXRBcHAvLi9zcmMvcGFuZWwvbWFpbi50cyIsIndlYnBhY2s6Ly9wZXRBcHAvLi9zcmMvcGFuZWwvcGV0cy50cyIsIndlYnBhY2s6Ly9wZXRBcHAvLi9zcmMvcGFuZWwvc3RhdGVzLnRzIiwid2VicGFjazovL3BldEFwcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wZXRBcHAvd2VicGFjay9iZWZvcmUtc3RhcnR1cCIsIndlYnBhY2s6Ly9wZXRBcHAvd2VicGFjay9zdGFydHVwIiwid2VicGFjazovL3BldEFwcC93ZWJwYWNrL2FmdGVyLXN0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFBFVF9OQU1FUzogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcbiAgICBbMSwgJ0JlbGxhJ10sXG4gICAgWzIsICdDaGFybGllJ10sXG4gICAgWzMsICdNYXgnXSxcbiAgICBbNCwgJ01vbGx5J10sXG4gICAgWzUsICdDb2NvJ10sXG4gICAgWzYsICdCdWRkeSddLFxuICAgIFs3LCAnUnVieSddLFxuICAgIFs4LCAnT3NjYXInXSxcbiAgICBbOSwgJ0x1Y3knXSxcbiAgICBbMTAsICdCYWlsZXknXSxcbiAgICBbMTEsICdNaWxvJ10sXG4gICAgWzEyLCAnRGFpc3knXSxcbiAgICBbMTMsICdBcmNoaWUnXSxcbiAgICBbMTQsICdPbGxpZSddLFxuICAgIFsxNSwgJ1Jvc2llJ10sXG4gICAgWzE2LCAnTG9sYSddLFxuICAgIFsxNywgJ0ZyYW5raWUnXSxcbiAgICBbMTgsICdUb2J5J10sXG4gICAgWzE5LCAnUm94eSddLFxuICAgIFsyMCwgJ1BvcHB5J10sXG4gICAgWzIxLCAnTHVuYSddLFxuICAgIFsyMiwgJ0phY2snXSxcbiAgICBbMjMsICdNaWxsaWUnXSxcbiAgICBbMjQsICdUZWRkeSddLFxuICAgIFsyNSwgJ0hhcnJ5J10sXG4gICAgWzI2LCAnQ29vcGVyJ10sXG4gICAgWzI3LCAnQmVhciddLFxuICAgIFsyOCwgJ1JvY2t5J10sXG4gICAgWzI5LCAnQWxmaWUnXSxcbiAgICBbMzAsICdIdWdvJ10sXG4gICAgWzMxLCAnQm9ubmllJ10sXG4gICAgWzMyLCAnUGVwcGVyJ10sXG4gICAgWzMzLCAnTGlseSddLFxuICAgIFszNCwgJ1RpbGx5J10sXG4gICAgWzM1LCAnTGVvJ10sXG4gICAgWzM2LCAnTWFnZ2llJ10sXG4gICAgWzM3LCAnR2VvcmdlJ10sXG4gICAgWzM4LCAnTWlhJ10sXG4gICAgWzM5LCAnTWFybGV5J10sXG4gICAgWzQwLCAnSGFybGV5J10sXG4gICAgWzQxLCAnQ2hsb2UnXSxcbiAgICBbNDIsICdMdWx1J10sXG4gICAgWzQzLCAnTWlzc3knXSxcbiAgICBbNDQsICdKYXNwZXInXSxcbiAgICBbNDUsICdCaWxseSddLFxuICAgIFs0NiwgJ05hbGEnXSxcbiAgICBbNDcsICdNb250eSddLFxuICAgIFs0OCwgJ1ppZ2d5J10sXG4gICAgWzQ5LCAnV2luc3RvbiddLFxuICAgIFs1MCwgJ1pldXMnXSxcbiAgICBbNTEsICdab2UnXSxcbiAgICBbNTIsICdTdGVsbGEnXSxcbiAgICBbNTMsICdTYXNoYSddLFxuICAgIFs1NCwgJ1J1c3R5J10sXG4gICAgWzU1LCAnR3VzJ10sXG4gICAgWzU2LCAnQmF4dGVyJ10sXG4gICAgWzU3LCAnRGV4dGVyJ10sXG4gICAgWzU4LCAnRGllc2VsJ10sXG4gICAgWzU5LCAnV2lsbG93J10sXG4gICAgWzYwLCAnQmFybmV5J10sXG4gICAgWzYxLCAnQnJ1bm8nXSxcbiAgICBbNjIsICdQZW5ueSddLFxuICAgIFs2MywgJ0hvbmV5J10sXG4gICAgWzY0LCAnTWlsbHknXSxcbiAgICBbNjUsICdNdXJwaHknXSxcbiAgICBbNjYsICdTaW1iYSddLFxuICAgIFs2NywgJ0hvbGx5J10sXG4gICAgWzY4LCAnQmVuamknXSxcbiAgICBbNjksICdIZW5yeSddLFxuICAgIFs3MCwgJ0xpbGx5J10sXG4gICAgWzcxLCAnUGlwcGEnXSxcbiAgICBbNzIsICdTaGFkb3cnXSxcbiAgICBbNzMsICdTYW0nXSxcbiAgICBbNzQsICdCdXN0ZXInXSxcbiAgICBbNzUsICdMdWNreSddLFxuICAgIFs3NiwgJ0VsbGllJ10sXG4gICAgWzc3LCAnRHVrZSddLFxuICAgIFs3OCwgJ0plc3NpZSddLFxuICAgIFs3OSwgJ0Nvb2tpZSddLFxuICAgIFs4MCwgJ0hhcnZleSddLFxuICAgIFs4MSwgJ0JydWNlJ10sXG4gICAgWzgyLCAnSmF4J10sXG4gICAgWzgzLCAnUmV4J10sXG4gICAgWzg0LCAnTG91aWUnXSxcbiAgICBbODUsICdCZW50bGV5J10sXG4gICAgWzg2LCAnSmV0J10sXG4gICAgWzg3LCAnQmFuam8nXSxcbiAgICBbODgsICdCZWF1J10sXG4gICAgWzg5LCAnRWxsYSddLFxuICAgIFs5MCwgJ1JhbHBoJ10sXG4gICAgWzkxLCAnTG9raSddLFxuICAgIFs5MiwgJ0xleGknXSxcbiAgICBbOTMsICdDaGVzdGVyJ10sXG4gICAgWzk0LCAnU29waGllJ10sXG4gICAgWzk1LCAnQ2hpbGxpJ10sXG4gICAgWzk2LCAnQmlsbGllJ10sXG4gICAgWzk3LCAnTG91aXMnXSxcbiAgICBbOTgsICdTY291dCddLFxuICAgIFs5OSwgJ0NoYXJsaWUnXSxcbiAgICBbMTAwLCAnQ2xlbyddLFxuICAgIFsxMDEsICdQdXJmZWN0J10sXG4gICAgWzEwMiwgJ1Nwb3QnXSxcbiAgICBbMTAzLCAnSGFycnknXSxcbiAgICBbMTA0LCAnQm9sdCddLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBDQVRfTkFNRVMgPSBQRVRfTkFNRVM7XG5cbmV4cG9ydCBjb25zdCBET0dfTkFNRVMgPSBQRVRfTkFNRVM7XG5cbmV4cG9ydCBjb25zdCBDUkFCX05BTUVTOiBNYXA8bnVtYmVyLCBzdHJpbmc+ID0gbmV3IE1hcDxudW1iZXIsIHN0cmluZz4oW1xuICAgIFsxLCAnRmVycmlzJ10sXG4gICAgWzIsICdQaW5jaHknXSxcbiAgICBbMywgJ0dyYWJieSddLFxuICAgIFs0LCAnQmlnIFJlZCddLFxuICAgIFs1LCAnQ3JhYmJ5J10sXG4gICAgWzYsICdCdWRkeSddLFxuICAgIFs3LCAnUnVieSBSZWQnXSxcbiAgICBbOCwgJ09zY2FyJ10sXG4gICAgWzksICdMdWN5J10sXG4gICAgWzEwLCAnQmFpbGV5J10sXG5dKTtcblxuZXhwb3J0IGNvbnN0IENMSVBQWV9OQU1FUzogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcbiAgICBbMSwgJ0NsaXBweSddLFxuICAgIFsyLCAnS2FybCBLbGFtbWVyJ10sXG4gICAgWzMsICdDbGlwcHkgSnIuJ10sXG4gICAgWzQsICdNb2xseSddLFxuICAgIFs1LCAnQ29jbyddLFxuICAgIFs2LCAnQnVkZHknXSxcbiAgICBbNywgJ1J1YnknXSxcbiAgICBbOCwgJ09zY2FyJ10sXG4gICAgWzksICdMdWN5J10sXG4gICAgWzEwLCAnQmFpbGV5J10sXG5dKTtcblxuZXhwb3J0IGNvbnN0IFRPVE9ST19OQU1FUzogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcbiAgICBbMSwgJ1RvdG9ybyddLFxuICAgIFsyLCAn44OI44OI44OtJ10sXG4gICAgWzMsICdNYXgnXSxcbiAgICBbNCwgJ01vbGx5J10sXG4gICAgWzUsICdDb2NvJ10sXG4gICAgWzYsICdCdWRkeSddLFxuICAgIFs3LCAnUnVieSddLFxuICAgIFs4LCAnT3NjYXInXSxcbiAgICBbOSwgJ0x1Y3knXSxcbiAgICBbMTAsICdCYWlsZXknXSxcbl0pO1xuXG5leHBvcnQgY29uc3QgU05BS0VfTkFNRVM6IE1hcDxudW1iZXIsIHN0cmluZz4gPSBuZXcgTWFwPG51bWJlciwgc3RyaW5nPihbXG4gICAgWzEsICdTbmVha3knXSxcbiAgICBbMiwgJ01yIFNsaXBwZXJ5J10sXG4gICAgWzMsICdNYXgnXSxcbiAgICBbNCwgJ01vbGx5J10sXG4gICAgWzUsICdDb2NvJ10sXG4gICAgWzYsICdCdWRkeSddLFxuICAgIFs3LCAnUnVieSddLFxuICAgIFs4LCAnT3NjYXInXSxcbiAgICBbOSwgJ0x1Y3knXSxcbiAgICBbMTAsICdCYWlsZXknXSxcbl0pO1xuXG5leHBvcnQgY29uc3QgRFVDS19OQU1FUzogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcbiAgICBbMSwgJ1F1YWNreSddLFxuICAgIFsyLCAnRmxvYXR5J10sXG4gICAgWzMsICdEdWNrJ10sXG4gICAgWzQsICdNb2xseSddLFxuICAgIFs1LCAnU3Vuc2hpbmUnXSxcbiAgICBbNiwgJ0J1ZGR5J10sXG4gICAgWzcsICdDaGlycHknXSxcbiAgICBbOCwgJ09zY2FyJ10sXG4gICAgWzksICdMdWN5J10sXG4gICAgWzEwLCAnQmFpbGV5J10sXG5dKTtcblxuZXhwb3J0IGNvbnN0IFpBUFBZX05BTUVTOiBNYXA8bnVtYmVyLCBzdHJpbmc+ID0gbmV3IE1hcDxudW1iZXIsIHN0cmluZz4oW1xuICAgIFsxLCAnWmFwcHknXSxcbiAgICBbMiwgJ1ppcHB5J10sXG4gICAgWzMsICdaYXBweSBKci4nXSxcbiAgICBbNCwgJ1pvcHB5J10sXG4gICAgWzUsICdadXBweSddLFxuICAgIFs2LCAnWmVwcHknXSxcbiAgICBbNywgJ0JpZyBaJ10sXG4gICAgWzgsICdMaXR0bGUgeiddLFxuICAgIFs5LCAnVGhlIEZsYXNoJ10sXG4gICAgWzEwLCAnVGhvciddLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBST0NLWV9OQU1FUzogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmc+KFtcbiAgICBbMSwgJ1JvY2t5J10sXG4gICAgWzIsICdUaGUgUm9jayddLFxuICAgIFszLCAnUXVhcnR6eSddLFxuICAgIFs0LCAnUm9ja3kgSSddLFxuICAgIFs1LCAnUm9ja3kgSUknXSxcbiAgICBbNiwgJ1JvY2t5IElJSSddLFxuICAgIFs3LCAnUGViYmxlcyBTci4nXSxcbiAgICBbOCwgJ0JpZyBHcmFuaXRlJ10sXG4gICAgWzksICdCb3VsZGVyJ10sXG4gICAgWzEwLCAnUm9ja2VmZWxsZXInXSxcbl0pO1xuIiwiLy8gVGhpcyBzY3JpcHQgd2lsbCBiZSBydW4gd2l0aGluIHRoZSB3ZWJ2aWV3IGl0c2VsZlxuaW1wb3J0IHtcbiAgICBQZXRTaXplLFxuICAgIFBldENvbG9yLFxuICAgIFBldFR5cGUsXG4gICAgVGhlbWUsXG4gICAgQ29sb3JUaGVtZUtpbmQsXG4gICAgV2Vidmlld01lc3NhZ2UsXG59IGZyb20gJy4uL2NvbW1vbi90eXBlcyc7XG5pbXBvcnQge1xuICAgIGNyZWF0ZVBldCxcbiAgICBJUGV0VHlwZSxcbiAgICBQZXRDb2xsZWN0aW9uLFxuICAgIFBldEVsZW1lbnQsXG4gICAgSVBldENvbGxlY3Rpb24sXG59IGZyb20gJy4vcGV0cyc7XG5pbXBvcnQgeyBCYWxsU3RhdGUsIFBldEVsZW1lbnRTdGF0ZSwgUGV0UGFuZWxTdGF0ZSB9IGZyb20gJy4vc3RhdGVzJztcblxuLyogVGhpcyBpcyBob3cgdGhlIFZTIENvZGUgQVBJIGNhbiBiZSBpbnZva2VkIGZyb20gdGhlIHBhbmVsICovXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgaW50ZXJmYWNlIFZzY29kZVN0YXRlQXBpIHtcbiAgICAgICAgZ2V0U3RhdGUoKTogUGV0UGFuZWxTdGF0ZTsgLy8gQVBJIGlzIGFjdHVhbGx5IEFueSwgYnV0IHdlIHdhbnQgaXQgdG8gYmUgdHlwZWQuXG4gICAgICAgIHNldFN0YXRlKHN0YXRlOiBQZXRQYW5lbFN0YXRlKTogdm9pZDtcbiAgICAgICAgcG9zdE1lc3NhZ2UobWVzc2FnZTogV2Vidmlld01lc3NhZ2UpOiB2b2lkO1xuICAgIH1cbiAgICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICAgICAgYWNxdWlyZVZzQ29kZUFwaSgpOiBWc2NvZGVTdGF0ZUFwaTtcbiAgICB9XG59XG5cbmNvbnN0IHZzY29kZSA9IHdpbmRvdy5hY3F1aXJlVnNDb2RlQXBpKCk7XG5cbmV4cG9ydCB2YXIgYWxsUGV0czogSVBldENvbGxlY3Rpb24gPSBuZXcgUGV0Q29sbGVjdGlvbigpO1xudmFyIHBldENvdW50ZXI6IG51bWJlcjtcblxuZnVuY3Rpb24gY2FsY3VsYXRlQmFsbFJhZGl1cyhzaXplOiBQZXRTaXplKTogbnVtYmVyIHtcbiAgICBpZiAoc2l6ZSA9PT0gUGV0U2l6ZS5uYW5vKSB7XG4gICAgICAgIHJldHVybiAyO1xuICAgIH0gZWxzZSBpZiAoc2l6ZSA9PT0gUGV0U2l6ZS5tZWRpdW0pIHtcbiAgICAgICAgcmV0dXJuIDQ7XG4gICAgfSBlbHNlIGlmIChzaXplID09PSBQZXRTaXplLmxhcmdlKSB7XG4gICAgICAgIHJldHVybiA4O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAxOyAvLyBTaHJ1Z1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlRmxvb3Ioc2l6ZTogUGV0U2l6ZSwgdGhlbWU6IFRoZW1lKTogbnVtYmVyIHtcbiAgICBzd2l0Y2ggKHRoZW1lKSB7XG4gICAgICAgIGNhc2UgVGhlbWUuZm9yZXN0OlxuICAgICAgICAgICAgc3dpdGNoIChzaXplKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBQZXRTaXplLm1lZGl1bTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDQwO1xuICAgICAgICAgICAgICAgIGNhc2UgUGV0U2l6ZS5sYXJnZTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDY1O1xuICAgICAgICAgICAgICAgIGNhc2UgUGV0U2l6ZS5uYW5vOlxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAyMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBUaGVtZS5jYXN0bGU6XG4gICAgICAgICAgICBzd2l0Y2ggKHNpemUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFBldFNpemUubWVkaXVtOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gODA7XG4gICAgICAgICAgICAgICAgY2FzZSBQZXRTaXplLmxhcmdlOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTIwO1xuICAgICAgICAgICAgICAgIGNhc2UgUGV0U2l6ZS5uYW5vOlxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA0NTtcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU1vdXNlT3ZlcihlOiBNb3VzZUV2ZW50KSB7XG4gICAgdmFyIGVsID0gZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxEaXZFbGVtZW50O1xuICAgIGFsbFBldHMucGV0cygpLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKGVsZW1lbnQuY29sbGlzaW9uID09PSBlbCkge1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50LnBldC5jYW5Td2lwZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudC5wZXQuc3dpcGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzdGFydEFuaW1hdGlvbnMoY29sbGlzaW9uOiBIVE1MRGl2RWxlbWVudCwgcGV0OiBJUGV0VHlwZSkge1xuICAgIGNvbGxpc2lvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBoYW5kbGVNb3VzZU92ZXIpO1xuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgdmFyIHVwZGF0ZXMgPSBhbGxQZXRzLnNlZWtOZXdGcmllbmRzKCk7XG4gICAgICAgIHVwZGF0ZXMuZm9yRWFjaCgobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgdnNjb2RlLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdpbmZvJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcGV0Lm5leHRGcmFtZSgpO1xuICAgICAgICBzYXZlU3RhdGUoKTtcbiAgICB9LCAxMDApO1xufVxuXG5mdW5jdGlvbiBhZGRQZXRUb1BhbmVsKFxuICAgIHBldFR5cGU6IFBldFR5cGUsXG4gICAgYmFzZVBldFVyaTogc3RyaW5nLFxuICAgIHBldENvbG9yOiBQZXRDb2xvcixcbiAgICBwZXRTaXplOiBQZXRTaXplLFxuICAgIGxlZnQ6IG51bWJlcixcbiAgICBib3R0b206IG51bWJlcixcbiAgICBmbG9vcjogbnVtYmVyLFxuICAgIG5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZCxcbik6IFBldEVsZW1lbnQge1xuICAgIHZhciBwZXRTcHJpdGVFbGVtZW50OiBIVE1MSW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgcGV0U3ByaXRlRWxlbWVudC5jbGFzc05hbWUgPSAncGV0JztcbiAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BldHNDb250YWluZXInKSBhcyBIVE1MRGl2RWxlbWVudCkuYXBwZW5kQ2hpbGQoXG4gICAgICAgIHBldFNwcml0ZUVsZW1lbnQsXG4gICAgKTtcblxuICAgIHZhciBjb2xsaXNpb25FbGVtZW50OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbGxpc2lvbkVsZW1lbnQuY2xhc3NOYW1lID0gJ2NvbGxpc2lvbic7XG4gICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZXRzQ29udGFpbmVyJykgYXMgSFRNTERpdkVsZW1lbnQpLmFwcGVuZENoaWxkKFxuICAgICAgICBjb2xsaXNpb25FbGVtZW50LFxuICAgICk7XG5cbiAgICBjb25zdCByb290ID0gYmFzZVBldFVyaSArICcvJyArIHBldFR5cGUgKyAnLycgKyBwZXRDb2xvcjtcbiAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgbmV3IHBldCA6ICcsIHBldFR5cGUsIHJvb3QpO1xuICAgIHZhciBuZXdQZXQgPSBjcmVhdGVQZXQoXG4gICAgICAgIHBldFR5cGUsXG4gICAgICAgIHBldFNwcml0ZUVsZW1lbnQsXG4gICAgICAgIGNvbGxpc2lvbkVsZW1lbnQsXG4gICAgICAgIHBldFNpemUsXG4gICAgICAgIGxlZnQsXG4gICAgICAgIGJvdHRvbSxcbiAgICAgICAgcm9vdCxcbiAgICAgICAgZmxvb3IsXG4gICAgICAgIG5hbWUsXG4gICAgKTtcbiAgICBwZXRDb3VudGVyKys7XG4gICAgc3RhcnRBbmltYXRpb25zKGNvbGxpc2lvbkVsZW1lbnQsIG5ld1BldCk7XG4gICAgcmV0dXJuIG5ldyBQZXRFbGVtZW50KFxuICAgICAgICBwZXRTcHJpdGVFbGVtZW50LFxuICAgICAgICBjb2xsaXNpb25FbGVtZW50LFxuICAgICAgICBuZXdQZXQsXG4gICAgICAgIHBldENvbG9yLFxuICAgICAgICBwZXRUeXBlLFxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlU3RhdGUoKSB7XG4gICAgdmFyIHN0YXRlID0gbmV3IFBldFBhbmVsU3RhdGUoKTtcbiAgICBzdGF0ZS5wZXRTdGF0ZXMgPSBuZXcgQXJyYXkoKTtcblxuICAgIGFsbFBldHMucGV0cygpLmZvckVhY2goKHBldEl0ZW0pID0+IHtcbiAgICAgICAgc3RhdGUucGV0U3RhdGVzIS5wdXNoKHtcbiAgICAgICAgICAgIHBldE5hbWU6IHBldEl0ZW0ucGV0Lm5hbWUoKSxcbiAgICAgICAgICAgIHBldENvbG9yOiBwZXRJdGVtLmNvbG9yLFxuICAgICAgICAgICAgcGV0VHlwZTogcGV0SXRlbS50eXBlLFxuICAgICAgICAgICAgcGV0U3RhdGU6IHBldEl0ZW0ucGV0LmdldFN0YXRlKCksXG4gICAgICAgICAgICBwZXRGcmllbmQ6IHBldEl0ZW0ucGV0LmZyaWVuZCgpXG4gICAgICAgICAgICAgICAgPyBwZXRJdGVtLnBldC5mcmllbmQoKS5uYW1lKClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVsTGVmdDogcGV0SXRlbS5lbC5zdHlsZS5sZWZ0LFxuICAgICAgICAgICAgZWxCb3R0b206IHBldEl0ZW0uZWwuc3R5bGUuYm90dG9tLFxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBzdGF0ZS5wZXRDb3VudGVyID0gcGV0Q291bnRlcjtcbiAgICB2c2NvZGUuc2V0U3RhdGUoc3RhdGUpO1xufVxuXG5mdW5jdGlvbiByZWNvdmVyU3RhdGUoYmFzZVBldFVyaTogc3RyaW5nLCBwZXRTaXplOiBQZXRTaXplLCBmbG9vcjogbnVtYmVyKSB7XG4gICAgdmFyIHN0YXRlID0gdnNjb2RlLmdldFN0YXRlKCk7XG5cbiAgICBpZiAoc3RhdGUucGV0Q291bnRlciA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKHN0YXRlLnBldENvdW50ZXIpKSB7XG4gICAgICAgIHBldENvdW50ZXIgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBldENvdW50ZXIgPSBzdGF0ZS5wZXRDb3VudGVyITtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3ZlcnlNYXA6IE1hcDxJUGV0VHlwZSwgUGV0RWxlbWVudFN0YXRlPiA9IG5ldyBNYXAoKTtcbiAgICBzdGF0ZS5wZXRTdGF0ZXMhLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgLy8gRml4ZXMgYSBidWcgcmVsYXRlZCB0byBkdWNrIGFuaW1hdGlvbnNcbiAgICAgICAgaWYgKChwLnBldFR5cGUgYXMgc3RyaW5nKSA9PT0gJ3J1YmJlciBkdWNrJykge1xuICAgICAgICAgICAgKHAucGV0VHlwZSBhcyBzdHJpbmcpID0gJ3J1YmJlci1kdWNrJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgbmV3UGV0ID0gYWRkUGV0VG9QYW5lbChcbiAgICAgICAgICAgICAgICBwLnBldFR5cGUhLFxuICAgICAgICAgICAgICAgIGJhc2VQZXRVcmksXG4gICAgICAgICAgICAgICAgcC5wZXRDb2xvciEsXG4gICAgICAgICAgICAgICAgcGV0U2l6ZSxcbiAgICAgICAgICAgICAgICBwYXJzZUludChwLmVsTGVmdCEpLFxuICAgICAgICAgICAgICAgIHBhcnNlSW50KHAuZWxCb3R0b20hKSxcbiAgICAgICAgICAgICAgICBmbG9vcixcbiAgICAgICAgICAgICAgICBwLnBldE5hbWUsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYWxsUGV0cy5wdXNoKG5ld1BldCk7XG4gICAgICAgICAgICByZWNvdmVyeU1hcC5zZXQobmV3UGV0LnBldCwgcCk7XG4gICAgICAgIH0gY2F0Y2ggKEludmFsaWRQZXRFeGNlcHRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICdTdGF0ZSBoYWQgaW52YWxpZCBwZXQgKCcgKyBwLnBldFR5cGUgKyAnKSwgZGlzY2FyZGluZy4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJlY292ZXJ5TWFwLmZvckVhY2goKHN0YXRlLCBwZXQpID0+IHtcbiAgICAgICAgLy8gUmVjb3ZlciBwcmV2aW91cyBzdGF0ZS5cbiAgICAgICAgcGV0LnJlY292ZXJTdGF0ZShzdGF0ZS5wZXRTdGF0ZSEpO1xuXG4gICAgICAgIC8vIFJlc29sdmUgZnJpZW5kIHJlbGF0aW9uc2hpcHNcbiAgICAgICAgdmFyIGZyaWVuZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHN0YXRlLnBldEZyaWVuZCkge1xuICAgICAgICAgICAgZnJpZW5kID0gYWxsUGV0cy5sb2NhdGUoc3RhdGUucGV0RnJpZW5kKTtcbiAgICAgICAgICAgIGlmIChmcmllbmQpIHtcbiAgICAgICAgICAgICAgICBwZXQucmVjb3ZlckZyaWVuZChmcmllbmQucGV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiByYW5kb21TdGFydFBvc2l0aW9uKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh3aW5kb3cuaW5uZXJXaWR0aCAqIDAuNykpO1xufVxuXG5sZXQgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cbmZ1bmN0aW9uIGluaXRDYW52YXMoKSB7XG4gICAgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BldENhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBjdHguY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgY3R4LmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG59XG5cbi8vIEl0IGNhbm5vdCBhY2Nlc3MgdGhlIG1haW4gVlMgQ29kZSBBUElzIGRpcmVjdGx5LlxuZXhwb3J0IGZ1bmN0aW9uIHBldFBhbmVsQXBwKFxuICAgIGJhc2VQZXRVcmk6IHN0cmluZyxcbiAgICB0aGVtZTogVGhlbWUsXG4gICAgdGhlbWVLaW5kOiBDb2xvclRoZW1lS2luZCxcbiAgICBwZXRDb2xvcjogUGV0Q29sb3IsXG4gICAgcGV0U2l6ZTogUGV0U2l6ZSxcbiAgICBwZXRUeXBlOiBQZXRUeXBlLFxuKSB7XG4gICAgY29uc3QgYmFsbFJhZGl1czogbnVtYmVyID0gY2FsY3VsYXRlQmFsbFJhZGl1cyhwZXRTaXplKTtcbiAgICB2YXIgZmxvb3IgPSAwO1xuICAgIC8vIEFwcGx5IFRoZW1lIGJhY2tncm91bmRzXG4gICAgaWYgKHRoZW1lICE9PSBUaGVtZS5ub25lKSB7XG4gICAgICAgIHZhciBfdGhlbWVLaW5kID0gJyc7XG4gICAgICAgIHN3aXRjaCAodGhlbWVLaW5kKSB7XG4gICAgICAgICAgICBjYXNlIENvbG9yVGhlbWVLaW5kLmRhcms6XG4gICAgICAgICAgICAgICAgX3RoZW1lS2luZCA9ICdkYXJrJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29sb3JUaGVtZUtpbmQubGlnaHQ6XG4gICAgICAgICAgICAgICAgX3RoZW1lS2luZCA9ICdsaWdodCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbG9yVGhlbWVLaW5kLmhpZ2hDb250cmFzdDpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgX3RoZW1lS2luZCA9ICdsaWdodCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJyR7YmFzZVBldFVyaX0vYmFja2dyb3VuZHMvJHt0aGVtZX0vYmFja2dyb3VuZC0ke190aGVtZUtpbmR9LSR7cGV0U2l6ZX0ucG5nJylgO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICdmb3JlZ3JvdW5kJyxcbiAgICAgICAgKSEuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHtiYXNlUGV0VXJpfS9iYWNrZ3JvdW5kcy8ke3RoZW1lfS9mb3JlZ3JvdW5kLSR7X3RoZW1lS2luZH0tJHtwZXRTaXplfS5wbmcnKWA7XG5cbiAgICAgICAgZmxvb3IgPSBjYWxjdWxhdGVGbG9vcihwZXRTaXplLCB0aGVtZSk7IC8vIFRoZW1lcyBoYXZlIHBldHMgYXQgYSBzcGVjaWZpZWQgaGVpZ2h0IGZyb20gdGhlIGdyb3VuZFxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJyc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JlZ3JvdW5kJykhLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICcnO1xuICAgIH1cblxuICAgIC8vLyBCb3VuY2luZyBiYWxsIGNvbXBvbmVudHMsIGNyZWRpdCBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjk5ODIzNDNcbiAgICBjb25zdCBncmF2aXR5OiBudW1iZXIgPSAwLjIsXG4gICAgICAgIGRhbXBpbmc6IG51bWJlciA9IDAuOSxcbiAgICAgICAgdHJhY3Rpb246IG51bWJlciA9IDAuODtcbiAgICB2YXIgYmFsbFN0YXRlOiBCYWxsU3RhdGU7XG5cbiAgICBmdW5jdGlvbiByZXNldEJhbGwoKSB7XG4gICAgICAgIGNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgYmFsbFN0YXRlID0gbmV3IEJhbGxTdGF0ZSgxMDAsIDEwMCwgMiwgNSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGhyb3dCYWxsKCkge1xuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGlmICghYmFsbFN0YXRlLnBhdXNlZCkge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRocm93QmFsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmFsbFN0YXRlLmN4ICsgYmFsbFJhZGl1cyA+PSBjYW52YXMud2lkdGgpIHtcbiAgICAgICAgICAgIGJhbGxTdGF0ZS52eCA9IC1iYWxsU3RhdGUudnggKiBkYW1waW5nO1xuICAgICAgICAgICAgYmFsbFN0YXRlLmN4ID0gY2FudmFzLndpZHRoIC0gYmFsbFJhZGl1cztcbiAgICAgICAgfSBlbHNlIGlmIChiYWxsU3RhdGUuY3ggLSBiYWxsUmFkaXVzIDw9IDApIHtcbiAgICAgICAgICAgIGJhbGxTdGF0ZS52eCA9IC1iYWxsU3RhdGUudnggKiBkYW1waW5nO1xuICAgICAgICAgICAgYmFsbFN0YXRlLmN4ID0gYmFsbFJhZGl1cztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFsbFN0YXRlLmN5ICsgYmFsbFJhZGl1cyArIGZsb29yID49IGNhbnZhcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIGJhbGxTdGF0ZS52eSA9IC1iYWxsU3RhdGUudnkgKiBkYW1waW5nO1xuICAgICAgICAgICAgYmFsbFN0YXRlLmN5ID0gY2FudmFzLmhlaWdodCAtIGJhbGxSYWRpdXMgLSBmbG9vcjtcbiAgICAgICAgICAgIC8vIHRyYWN0aW9uIGhlcmVcbiAgICAgICAgICAgIGJhbGxTdGF0ZS52eCAqPSB0cmFjdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmIChiYWxsU3RhdGUuY3kgLSBiYWxsUmFkaXVzIDw9IDApIHtcbiAgICAgICAgICAgIGJhbGxTdGF0ZS52eSA9IC1iYWxsU3RhdGUudnkgKiBkYW1waW5nO1xuICAgICAgICAgICAgYmFsbFN0YXRlLmN5ID0gYmFsbFJhZGl1cztcbiAgICAgICAgfVxuXG4gICAgICAgIGJhbGxTdGF0ZS52eSArPSBncmF2aXR5O1xuXG4gICAgICAgIGJhbGxTdGF0ZS5jeCArPSBiYWxsU3RhdGUudng7XG4gICAgICAgIGJhbGxTdGF0ZS5jeSArPSBiYWxsU3RhdGUudnk7XG5cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguYXJjKGJhbGxTdGF0ZS5jeCwgYmFsbFN0YXRlLmN5LCBiYWxsUmFkaXVzLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMyZWQ4NTEnO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBwZXQgc2Vzc2lvbicsIHBldENvbG9yLCBiYXNlUGV0VXJpLCBwZXRUeXBlKTtcbiAgICAvLyBOZXcgc2Vzc2lvblxuICAgIHZhciBzdGF0ZSA9IHZzY29kZS5nZXRTdGF0ZSgpO1xuICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ05vIHN0YXRlLCBzdGFydGluZyBhIG5ldyBzZXNzaW9uLicpO1xuICAgICAgICBwZXRDb3VudGVyID0gMTtcbiAgICAgICAgYWxsUGV0cy5wdXNoKFxuICAgICAgICAgICAgYWRkUGV0VG9QYW5lbChcbiAgICAgICAgICAgICAgICBwZXRUeXBlLFxuICAgICAgICAgICAgICAgIGJhc2VQZXRVcmksXG4gICAgICAgICAgICAgICAgcGV0Q29sb3IsXG4gICAgICAgICAgICAgICAgcGV0U2l6ZSxcbiAgICAgICAgICAgICAgICByYW5kb21TdGFydFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgZmxvb3IsXG4gICAgICAgICAgICAgICAgZmxvb3IsXG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICAgICAgc2F2ZVN0YXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1JlY292ZXJpbmcgc3RhdGUgLSAnLCBzdGF0ZSk7XG4gICAgICAgIHJlY292ZXJTdGF0ZShiYXNlUGV0VXJpLCBwZXRTaXplLCBmbG9vcik7XG4gICAgfVxuXG4gICAgaW5pdENhbnZhcygpO1xuXG4gICAgLy8gSGFuZGxlIG1lc3NhZ2VzIHNlbnQgZnJvbSB0aGUgZXh0ZW5zaW9uIHRvIHRoZSB3ZWJ2aWV3XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZXZlbnQpOiB2b2lkID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7IC8vIFRoZSBqc29uIGRhdGEgdGhhdCB0aGUgZXh0ZW5zaW9uIHNlbnRcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLmNvbW1hbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3Rocm93LWJhbGwnOlxuICAgICAgICAgICAgICAgIHJlc2V0QmFsbCgpO1xuICAgICAgICAgICAgICAgIHRocm93QmFsbCgpO1xuICAgICAgICAgICAgICAgIGFsbFBldHMucGV0cygpLmZvckVhY2goKHBldEVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZXRFbC5wZXQuY2FuQ2hhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGV0RWwucGV0LmNoYXNlKGJhbGxTdGF0ZSwgY2FudmFzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3Bhd24tcGV0JzpcbiAgICAgICAgICAgICAgICBhbGxQZXRzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIGFkZFBldFRvUGFuZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlUGV0VXJpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBldFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5kb21TdGFydFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9vcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yLFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgc2F2ZVN0YXRlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkZWxldGUtcGV0JzpcbiAgICAgICAgICAgICAgICB2YXIgcGV0ID0gYWxsUGV0cy5sb2NhdGUobWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgICAgaWYgKHBldCkge1xuICAgICAgICAgICAgICAgICAgICBwZXQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHNhdmVTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Jlc2V0LXBldCc6XG4gICAgICAgICAgICAgICAgYWxsUGV0cy5wZXRzKCkuZm9yRWFjaCgocGV0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBldC5lbC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcGV0LmNvbGxpc2lvbi5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhbGxQZXRzLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgYWxsUGV0cy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBhZGRQZXRUb1BhbmVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgcGV0VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VQZXRVcmksXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBldFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5kb21TdGFydFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9vcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yLFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcGV0Q291bnRlciA9IDE7XG4gICAgICAgICAgICAgICAgc2F2ZVN0YXRlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwYXVzZS1wZXQnOlxuICAgICAgICAgICAgICAgIHBldENvdW50ZXIgPSAxO1xuICAgICAgICAgICAgICAgIHNhdmVTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG59XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgIGluaXRDYW52YXMoKTtcbn0pO1xuIiwiaW1wb3J0IHsgUGV0Q29sb3IsIFBldFNpemUsIFBldFNwZWVkLCBQZXRUeXBlIH0gZnJvbSAnLi4vY29tbW9uL3R5cGVzJztcbmltcG9ydCB7IElTZXF1ZW5jZVRyZWUgfSBmcm9tICcuL3NlcXVlbmNlcyc7XG5pbXBvcnQge1xuICAgIElTdGF0ZSxcbiAgICBTdGF0ZXMsXG4gICAgcmVzb2x2ZVN0YXRlLFxuICAgIEhvcml6b250YWxEaXJlY3Rpb24sXG4gICAgQ2hhc2VTdGF0ZSxcbiAgICBCYWxsU3RhdGUsXG4gICAgRnJhbWVSZXN1bHQsXG4gICAgUGV0SW5zdGFuY2VTdGF0ZSxcbiAgICBpc1N0YXRlQWJvdmVHcm91bmQsXG59IGZyb20gJy4vc3RhdGVzJztcbmltcG9ydCB7XG4gICAgQ0FUX05BTUVTLFxuICAgIERPR19OQU1FUyxcbiAgICBDUkFCX05BTUVTLFxuICAgIFNOQUtFX05BTUVTLFxuICAgIENMSVBQWV9OQU1FUyxcbiAgICBUT1RPUk9fTkFNRVMsXG4gICAgRFVDS19OQU1FUyxcbiAgICBaQVBQWV9OQU1FUyxcbiAgICBST0NLWV9OQU1FUyxcbn0gZnJvbSAnLi4vY29tbW9uL25hbWVzJztcblxuZXhwb3J0IGNsYXNzIEludmFsaWRTdGF0ZUV4Y2VwdGlvbiB7fVxuXG5leHBvcnQgY2xhc3MgUGV0RWxlbWVudCB7XG4gICAgZWw6IEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgY29sbGlzaW9uOiBIVE1MRGl2RWxlbWVudDtcbiAgICBwZXQ6IElQZXRUeXBlO1xuICAgIGNvbG9yOiBQZXRDb2xvcjtcbiAgICB0eXBlOiBQZXRUeXBlO1xuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5jb2xsaXNpb24ucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuY29sb3IgPSBQZXRDb2xvci5udWxsO1xuICAgICAgICB0aGlzLnR5cGUgPSBQZXRUeXBlLm51bGw7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGVsOiBIVE1MSW1hZ2VFbGVtZW50LFxuICAgICAgICBjb2xsaXNpb246IEhUTUxEaXZFbGVtZW50LFxuICAgICAgICBwZXQ6IElQZXRUeXBlLFxuICAgICAgICBjb2xvcjogUGV0Q29sb3IsXG4gICAgICAgIHR5cGU6IFBldFR5cGUsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgICAgdGhpcy5jb2xsaXNpb24gPSBjb2xsaXNpb247XG4gICAgICAgIHRoaXMucGV0ID0gcGV0O1xuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElQZXRDb2xsZWN0aW9uIHtcbiAgICBwZXRzKCk6IEFycmF5PFBldEVsZW1lbnQ+O1xuICAgIHB1c2gocGV0OiBQZXRFbGVtZW50KTogdm9pZDtcbiAgICByZXNldCgpOiB2b2lkO1xuICAgIHNlZWtOZXdGcmllbmRzKCk6IHN0cmluZ1tdO1xuICAgIGxvY2F0ZShuYW1lOiBzdHJpbmcpOiBQZXRFbGVtZW50IHwgdW5kZWZpbmVkO1xuICAgIHJlbW92ZShuYW1lOiBzdHJpbmcpOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgUGV0Q29sbGVjdGlvbiBpbXBsZW1lbnRzIElQZXRDb2xsZWN0aW9uIHtcbiAgICBfcGV0czogQXJyYXk8UGV0RWxlbWVudD47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fcGV0cyA9IG5ldyBBcnJheSgwKTtcbiAgICB9XG5cbiAgICBwZXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGV0cztcbiAgICB9XG5cbiAgICBwdXNoKHBldDogUGV0RWxlbWVudCkge1xuICAgICAgICB0aGlzLl9wZXRzLnB1c2gocGV0KTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fcGV0cyA9IFtdO1xuICAgIH1cblxuICAgIGxvY2F0ZShuYW1lOiBzdHJpbmcpOiBQZXRFbGVtZW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BldHMuZmluZCgoY29sbGVjdGlvbikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24ucGV0Lm5hbWUoKSA9PT0gbmFtZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlKG5hbWU6IHN0cmluZyk6IGFueSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fcGV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BldHNbaV0ucGV0Lm5hbWUoKSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BldHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BldHMuZm9yRWFjaCgocGV0KSA9PiB7XG4gICAgICAgICAgICBpZiAocGV0LnBldC5uYW1lKCkgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICBwZXQucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNlZWtOZXdGcmllbmRzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgaWYgKHRoaXMuX3BldHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfSAvLyBZb3UgY2FuJ3QgYmUgZnJpZW5kcyB3aXRoIHlvdXJzZWxmLlxuICAgICAgICB2YXIgbWVzc2FnZXMgPSBuZXcgQXJyYXk8c3RyaW5nPigwKTtcbiAgICAgICAgdGhpcy5fcGV0cy5mb3JFYWNoKChwZXRJbkNvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGlmIChwZXRJbkNvbGxlY3Rpb24ucGV0Lmhhc0ZyaWVuZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSAvLyBJIGFscmVhZHkgaGF2ZSBhIGZyaWVuZCFcbiAgICAgICAgICAgIHRoaXMuX3BldHMuZm9yRWFjaCgocG90ZW50aWFsRnJpZW5kKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBvdGVudGlhbEZyaWVuZC5wZXQuaGFzRnJpZW5kKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gLy8gQWxyZWFkeSBoYXMgYSBmcmllbmQuIHNvcnJ5LlxuICAgICAgICAgICAgICAgIGlmICghcG90ZW50aWFsRnJpZW5kLnBldC5jYW5DaGFzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IC8vIFBldCBpcyBidXN5IGRvaW5nIHNvbWV0aGluZyBlbHNlLlxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgcG90ZW50aWFsRnJpZW5kLnBldC5sZWZ0KCkgPiBwZXRJbkNvbGxlY3Rpb24ucGV0LmxlZnQoKSAmJlxuICAgICAgICAgICAgICAgICAgICBwb3RlbnRpYWxGcmllbmQucGV0LmxlZnQoKSA8XG4gICAgICAgICAgICAgICAgICAgICAgICBwZXRJbkNvbGxlY3Rpb24ucGV0LmxlZnQoKSArIHBldEluQ29sbGVjdGlvbi5wZXQud2lkdGgoKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBmb3VuZCBhIHBvc3NpYmxlIG5ldyBmcmllbmQuLlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIHBldEluQ29sbGVjdGlvbi5wZXQubmFtZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJyB3YW50cyB0byBiZSBmcmllbmRzIHdpdGggJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvdGVudGlhbEZyaWVuZC5wZXQubmFtZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJy4nLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXRJbkNvbGxlY3Rpb24ucGV0Lm1ha2VGcmllbmRzV2l0aChwb3RlbnRpYWxGcmllbmQucGV0KVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7cGV0SW5Db2xsZWN0aW9uLnBldC5uYW1lKCl9ICgke3BldEluQ29sbGVjdGlvbi5wZXQuZW1vamkoKX0pOiBJJ20gbm93IGZyaWVuZHMg4p2k77iPIHdpdGggJHtwb3RlbnRpYWxGcmllbmQucGV0Lm5hbWUoKX0gKCR7cG90ZW50aWFsRnJpZW5kLnBldC5lbW9qaSgpfSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUGV0VHlwZSB7XG4gICAgbmV4dEZyYW1lKCk6IHZvaWQ7XG5cbiAgICAvLyBTcGVjaWFsIG1ldGhvZHMgZm9yIGFjdGlvbnNcbiAgICBjYW5Td2lwZSgpOiBib29sZWFuO1xuICAgIGNhbkNoYXNlKCk6IGJvb2xlYW47XG4gICAgc3dpcGUoKTogdm9pZDtcbiAgICBjaGFzZShiYWxsU3RhdGU6IEJhbGxTdGF0ZSwgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCk6IHZvaWQ7XG4gICAgc3BlZWQoKTogbnVtYmVyO1xuICAgIGlzTW92aW5nKCk6IGJvb2xlYW47XG5cbiAgICAvLyBTdGF0ZSBBUElcbiAgICBnZXRTdGF0ZSgpOiBQZXRJbnN0YW5jZVN0YXRlO1xuICAgIHJlY292ZXJTdGF0ZShzdGF0ZTogUGV0SW5zdGFuY2VTdGF0ZSk6IHZvaWQ7XG4gICAgcmVjb3ZlckZyaWVuZChmcmllbmQ6IElQZXRUeXBlKTogdm9pZDtcblxuICAgIC8vIFBvc2l0aW9uaW5nXG4gICAgYm90dG9tKCk6IG51bWJlcjtcbiAgICBsZWZ0KCk6IG51bWJlcjtcbiAgICBwb3NpdGlvbkJvdHRvbShib3R0b206IG51bWJlcik6IHZvaWQ7XG4gICAgcG9zaXRpb25MZWZ0KGxlZnQ6IG51bWJlcik6IHZvaWQ7XG4gICAgd2lkdGgoKTogbnVtYmVyO1xuICAgIGZsb29yKCk6IG51bWJlcjtcblxuICAgIC8vIEZyaWVuZHMgQVBJXG4gICAgbmFtZSgpOiBzdHJpbmc7XG4gICAgZW1vamkoKTogc3RyaW5nO1xuICAgIGhhc0ZyaWVuZCgpOiBib29sZWFuO1xuICAgIGZyaWVuZCgpOiBJUGV0VHlwZTtcbiAgICBtYWtlRnJpZW5kc1dpdGgoZnJpZW5kOiBJUGV0VHlwZSk6IGJvb2xlYW47XG4gICAgaXNQbGF5aW5nKCk6IGJvb2xlYW47XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVNwcml0ZVdpZHRoKHNpemU6IFBldFNpemUpOiBudW1iZXIge1xuICAgIGlmIChzaXplID09PSBQZXRTaXplLm5hbm8pIHtcbiAgICAgICAgcmV0dXJuIDMwO1xuICAgIH0gZWxzZSBpZiAoc2l6ZSA9PT0gUGV0U2l6ZS5tZWRpdW0pIHtcbiAgICAgICAgcmV0dXJuIDU1O1xuICAgIH0gZWxzZSBpZiAoc2l6ZSA9PT0gUGV0U2l6ZS5sYXJnZSkge1xuICAgICAgICByZXR1cm4gMTEwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAzMDsgLy8gU2hydWdcbiAgICB9XG59XG5cbmFic3RyYWN0IGNsYXNzIEJhc2VQZXRUeXBlIGltcGxlbWVudHMgSVBldFR5cGUge1xuICAgIGxhYmVsOiBzdHJpbmcgPSAnYmFzZSc7XG4gICAgc3RhdGljIGNvdW50OiBudW1iZXIgPSAwO1xuICAgIHNlcXVlbmNlOiBJU2VxdWVuY2VUcmVlID0ge1xuICAgICAgICBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgc2VxdWVuY2VTdGF0ZXM6IFtdLFxuICAgIH07XG4gICAgY3VycmVudFN0YXRlOiBJU3RhdGU7XG4gICAgY3VycmVudFN0YXRlRW51bTogU3RhdGVzO1xuICAgIGhvbGRTdGF0ZTogSVN0YXRlIHwgdW5kZWZpbmVkO1xuICAgIGhvbGRTdGF0ZUVudW06IFN0YXRlcyB8IHVuZGVmaW5lZDtcbiAgICBwcml2YXRlIGVsOiBIVE1MSW1hZ2VFbGVtZW50O1xuICAgIHByaXZhdGUgY29sbGlzaW9uOiBIVE1MRGl2RWxlbWVudDtcbiAgICBwcml2YXRlIF9sZWZ0OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfYm90dG9tOiBudW1iZXI7XG4gICAgcGV0Um9vdDogc3RyaW5nO1xuICAgIF9mbG9vcjogbnVtYmVyO1xuICAgIF9mcmllbmQ6IElQZXRUeXBlIHwgdW5kZWZpbmVkO1xuICAgIHByaXZhdGUgX25hbWU6IHN0cmluZztcbiAgICBwcml2YXRlIF9zcGVlZDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHNwcml0ZUVsZW1lbnQ6IEhUTUxJbWFnZUVsZW1lbnQsXG4gICAgICAgIGNvbGxpc2lvbkVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50LFxuICAgICAgICBzaXplOiBQZXRTaXplLFxuICAgICAgICBsZWZ0OiBudW1iZXIsXG4gICAgICAgIGJvdHRvbTogbnVtYmVyLFxuICAgICAgICBwZXRSb290OiBzdHJpbmcsXG4gICAgICAgIGZsb29yOiBudW1iZXIsXG4gICAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgICAgc3BlZWQ6IG51bWJlcixcbiAgICApIHtcbiAgICAgICAgdGhpcy5lbCA9IHNwcml0ZUVsZW1lbnQ7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uID0gY29sbGlzaW9uRWxlbWVudDtcbiAgICAgICAgdGhpcy5wZXRSb290ID0gcGV0Um9vdDtcbiAgICAgICAgdGhpcy5fZmxvb3IgPSBmbG9vcjtcbiAgICAgICAgdGhpcy5fbGVmdCA9IGxlZnQ7XG4gICAgICAgIHRoaXMuX2JvdHRvbSA9IGJvdHRvbTtcbiAgICAgICAgdGhpcy5pbml0U3ByaXRlKHNpemUsIGxlZnQsIGJvdHRvbSk7XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlRW51bSA9IHRoaXMuc2VxdWVuY2Uuc3RhcnRpbmdTdGF0ZTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSByZXNvbHZlU3RhdGUodGhpcy5jdXJyZW50U3RhdGVFbnVtLCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fc3BlZWQgPSBzcGVlZDtcblxuICAgICAgICAvLyBJbmNyZW1lbnQgdGhlIHN0YXRpYyBjb3VudCBvZiB0aGUgUGV0IGNsYXNzIHRoYXQgdGhlIGNvbnN0cnVjdG9yIGJlbG9uZ3MgdG9cbiAgICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgYW55KS5jb3VudCArPSAxO1xuICAgIH1cblxuICAgIGluaXRTcHJpdGUocGV0U2l6ZTogUGV0U2l6ZSwgbGVmdDogbnVtYmVyLCBib3R0b206IG51bWJlcikge1xuICAgICAgICB0aGlzLmVsLnN0eWxlLmxlZnQgPSBgJHtsZWZ0fXB4YDtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5ib3R0b20gPSBgJHtib3R0b219cHhgO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLndpZHRoID0gJ2F1dG8nO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5tYXhXaWR0aCA9IGAke2NhbGN1bGF0ZVNwcml0ZVdpZHRoKHBldFNpemUpfXB4YDtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5tYXhIZWlnaHQgPSBgJHtjYWxjdWxhdGVTcHJpdGVXaWR0aChwZXRTaXplKX1weGA7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uLnN0eWxlLmxlZnQgPSBgJHtsZWZ0fXB4YDtcbiAgICAgICAgdGhpcy5jb2xsaXNpb24uc3R5bGUuYm90dG9tID0gYCR7Ym90dG9tfXB4YDtcbiAgICAgICAgdGhpcy5jb2xsaXNpb24uc3R5bGUud2lkdGggPSBgJHtjYWxjdWxhdGVTcHJpdGVXaWR0aChwZXRTaXplKX1weGA7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uLnN0eWxlLmhlaWdodCA9IGAke2NhbGN1bGF0ZVNwcml0ZVdpZHRoKHBldFNpemUpfXB4YDtcbiAgICB9XG5cbiAgICBsZWZ0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sZWZ0O1xuICAgIH1cblxuICAgIGJvdHRvbSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm90dG9tO1xuICAgIH1cblxuICAgIHBvc2l0aW9uQm90dG9tKGJvdHRvbTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2JvdHRvbSA9IGJvdHRvbTtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5ib3R0b20gPSBgJHt0aGlzLl9ib3R0b219cHhgO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLmJvdHRvbSA9IGAke3RoaXMuX2JvdHRvbX1weGA7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uLnN0eWxlLmxlZnQgPSBgJHt0aGlzLl9sZWZ0fXB4YDtcbiAgICAgICAgdGhpcy5jb2xsaXNpb24uc3R5bGUuYm90dG9tID0gYCR7dGhpcy5fYm90dG9tfXB4YDtcbiAgICB9XG5cbiAgICBwb3NpdGlvbkxlZnQobGVmdDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2xlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLmVsLnN0eWxlLmxlZnQgPSBgJHt0aGlzLl9sZWZ0fXB4YDtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5sZWZ0ID0gYCR7dGhpcy5fbGVmdH1weGA7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uLnN0eWxlLmxlZnQgPSBgJHt0aGlzLl9sZWZ0fXB4YDtcbiAgICAgICAgdGhpcy5jb2xsaXNpb24uc3R5bGUuYm90dG9tID0gYCR7dGhpcy5fYm90dG9tfXB4YDtcbiAgICB9XG5cbiAgICB3aWR0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5lbC53aWR0aDtcbiAgICB9XG5cbiAgICBmbG9vcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmxvb3I7XG4gICAgfVxuXG4gICAgZ2V0U3RhdGUoKTogUGV0SW5zdGFuY2VTdGF0ZSB7XG4gICAgICAgIHJldHVybiB7IGN1cnJlbnRTdGF0ZUVudW06IHRoaXMuY3VycmVudFN0YXRlRW51bSB9O1xuICAgIH1cblxuICAgIHNwZWVkKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGVlZDtcbiAgICB9XG5cbiAgICBpc01vdmluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWVkICE9PSBQZXRTcGVlZC5zdGlsbDtcbiAgICB9XG5cbiAgICByZWNvdmVyRnJpZW5kKGZyaWVuZDogSVBldFR5cGUpIHtcbiAgICAgICAgLy8gUmVjb3ZlciBmcmllbmRzLi5cbiAgICAgICAgdGhpcy5fZnJpZW5kID0gZnJpZW5kO1xuICAgIH1cblxuICAgIHJlY292ZXJTdGF0ZShzdGF0ZTogUGV0SW5zdGFuY2VTdGF0ZSkge1xuICAgICAgICAvLyBUT0RPIDogUmVzb2x2ZSBhIGJ1ZyB3aGVyZSBpZiBpdCB3YXMgc3dpcGluZyBiZWZvcmUsIGl0IHdvdWxkIGZhaWxcbiAgICAgICAgLy8gYmVjYXVzZSBob2xkU3RhdGUgaXMgbm8gbG9uZ2VyIHZhbGlkLlxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPSBzdGF0ZS5jdXJyZW50U3RhdGVFbnVtITtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSByZXNvbHZlU3RhdGUodGhpcy5jdXJyZW50U3RhdGVFbnVtLCB0aGlzKTtcblxuICAgICAgICBpZiAoIWlzU3RhdGVBYm92ZUdyb3VuZCh0aGlzLmN1cnJlbnRTdGF0ZUVudW0pKSB7XG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgYm90dG9tIG9mIHRoZSBzcHJpdGUgdG8gdGhlIGZsb29yIGFzIHRoZSB0aGVtZVxuICAgICAgICAgICAgLy8gaGFzIGxpa2VseSBjaGFuZ2VkLlxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbkJvdHRvbSh0aGlzLmZsb29yKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FuU3dpcGUoKSB7XG4gICAgICAgIHJldHVybiAhaXNTdGF0ZUFib3ZlR3JvdW5kKHRoaXMuY3VycmVudFN0YXRlRW51bSk7XG4gICAgfVxuXG4gICAgY2FuQ2hhc2UoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAhaXNTdGF0ZUFib3ZlR3JvdW5kKHRoaXMuY3VycmVudFN0YXRlRW51bSkgJiZcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlRW51bSAhPT0gU3RhdGVzLmNoYXNlICYmXG4gICAgICAgICAgICB0aGlzLmlzTW92aW5nKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzd2lwZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFN0YXRlRW51bSA9PT0gU3RhdGVzLnN3aXBlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ob2xkU3RhdGUgPSB0aGlzLmN1cnJlbnRTdGF0ZTtcbiAgICAgICAgdGhpcy5ob2xkU3RhdGVFbnVtID0gdGhpcy5jdXJyZW50U3RhdGVFbnVtO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPSBTdGF0ZXMuc3dpcGU7XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gcmVzb2x2ZVN0YXRlKHRoaXMuY3VycmVudFN0YXRlRW51bSwgdGhpcyk7XG4gICAgfVxuXG4gICAgY2hhc2UoYmFsbFN0YXRlOiBCYWxsU3RhdGUsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGVFbnVtID0gU3RhdGVzLmNoYXNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IG5ldyBDaGFzZVN0YXRlKHRoaXMsIGJhbGxTdGF0ZSwgY2FudmFzKTtcbiAgICB9XG5cbiAgICBmYWNlTGVmdCgpIHtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGVYKC0xKSc7XG4gICAgfVxuXG4gICAgZmFjZVJpZ2h0KCkge1xuICAgICAgICB0aGlzLmVsLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVgoMSknO1xuICAgIH1cblxuICAgIHNldEFuaW1hdGlvbihmYWNlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuZWwuc3JjLmVuZHNXaXRoKGBfJHtmYWNlfV84ZnBzLmdpZmApKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbC5zcmMgPSBgJHt0aGlzLnBldFJvb3R9XyR7ZmFjZX1fOGZwcy5naWZgO1xuICAgIH1cblxuICAgIGNob29zZU5leHRTdGF0ZShmcm9tU3RhdGU6IFN0YXRlcyk6IFN0YXRlcyB7XG4gICAgICAgIC8vIFdvcmsgb3V0IG5leHQgc3RhdGVcbiAgICAgICAgdmFyIHBvc3NpYmxlTmV4dFN0YXRlczogU3RhdGVzW10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZXF1ZW5jZS5zZXF1ZW5jZVN0YXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VxdWVuY2Uuc2VxdWVuY2VTdGF0ZXNbaV0uc3RhdGUgPT09IGZyb21TdGF0ZSkge1xuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlcyA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VxdWVuY2Uuc2VxdWVuY2VTdGF0ZXNbaV0ucG9zc2libGVOZXh0U3RhdGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghcG9zc2libGVOZXh0U3RhdGVzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFN0YXRlRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmFuZG9tbHkgY2hvb3NlIHRoZSBuZXh0IHN0YXRlXG4gICAgICAgIGNvbnN0IGlkeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlTmV4dFN0YXRlcy5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gcG9zc2libGVOZXh0U3RhdGVzW2lkeF07XG4gICAgfVxuXG4gICAgbmV4dEZyYW1lKCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZS5ob3Jpem9udGFsRGlyZWN0aW9uID09PSBIb3Jpem9udGFsRGlyZWN0aW9uLmxlZnRcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmZhY2VMZWZ0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZS5ob3Jpem9udGFsRGlyZWN0aW9uID09PSBIb3Jpem9udGFsRGlyZWN0aW9uLnJpZ2h0XG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5mYWNlUmlnaHQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldEFuaW1hdGlvbih0aGlzLmN1cnJlbnRTdGF0ZS5zcHJpdGVMYWJlbCk7XG5cbiAgICAgICAgLy8gV2hhdCdzIG15IGJ1ZGR5IGRvaW5nP1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmhhc0ZyaWVuZCgpICYmXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gIT09IFN0YXRlcy5jaGFzZUZyaWVuZCAmJlxuICAgICAgICAgICAgdGhpcy5pc01vdmluZygpXG4gICAgICAgICkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMuZnJpZW5kKCkuaXNQbGF5aW5nKCkgJiZcbiAgICAgICAgICAgICAgICAhaXNTdGF0ZUFib3ZlR3JvdW5kKHRoaXMuY3VycmVudFN0YXRlRW51bSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gcmVzb2x2ZVN0YXRlKFN0YXRlcy5jaGFzZUZyaWVuZCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGVFbnVtID0gU3RhdGVzLmNoYXNlRnJpZW5kO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmcmFtZVJlc3VsdCA9IHRoaXMuY3VycmVudFN0YXRlLm5leHRGcmFtZSgpO1xuICAgICAgICBpZiAoZnJhbWVSZXN1bHQgPT09IEZyYW1lUmVzdWx0LnN0YXRlQ29tcGxldGUpIHtcbiAgICAgICAgICAgIC8vIElmIHJlY292ZXJpbmcgZnJvbSBzd2lwZS4uXG4gICAgICAgICAgICBpZiAodGhpcy5ob2xkU3RhdGUgJiYgdGhpcy5ob2xkU3RhdGVFbnVtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSB0aGlzLmhvbGRTdGF0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPSB0aGlzLmhvbGRTdGF0ZUVudW07XG4gICAgICAgICAgICAgICAgdGhpcy5ob2xkU3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5ob2xkU3RhdGVFbnVtID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IHRoaXMuY2hvb3NlTmV4dFN0YXRlKHRoaXMuY3VycmVudFN0YXRlRW51bSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IHJlc29sdmVTdGF0ZShuZXh0U3RhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGVFbnVtID0gbmV4dFN0YXRlO1xuICAgICAgICB9IGVsc2UgaWYgKGZyYW1lUmVzdWx0ID09PSBGcmFtZVJlc3VsdC5zdGF0ZUNhbmNlbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFN0YXRlRW51bSA9PT0gU3RhdGVzLmNoYXNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IHRoaXMuY2hvb3NlTmV4dFN0YXRlKFN0YXRlcy5pZGxlV2l0aEJhbGwpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gcmVzb2x2ZVN0YXRlKG5leHRTdGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGVFbnVtID0gbmV4dFN0YXRlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRTdGF0ZUVudW0gPT09IFN0YXRlcy5jaGFzZUZyaWVuZCkge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSB0aGlzLmNob29zZU5leHRTdGF0ZShTdGF0ZXMuaWRsZVdpdGhCYWxsKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IHJlc29sdmVTdGF0ZShuZXh0U3RhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlRW51bSA9IG5leHRTdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhc0ZyaWVuZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZyaWVuZCAhPT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGZyaWVuZCgpOiBJUGV0VHlwZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mcmllbmQhO1xuICAgIH1cblxuICAgIG5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgfVxuXG4gICAgbWFrZUZyaWVuZHNXaXRoKGZyaWVuZDogSVBldFR5cGUpOiBib29sZWFuIHtcbiAgICAgICAgdGhpcy5fZnJpZW5kID0gZnJpZW5kO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm5hbWUoKSwgXCI6IEknbSBub3cgZnJpZW5kcyDinaTvuI8gd2l0aCBcIiwgZnJpZW5kLm5hbWUoKSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlzUGxheWluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMuaXNNb3ZpbmcoKSAmJlxuICAgICAgICAgICAgKHRoaXMuY3VycmVudFN0YXRlRW51bSA9PT0gU3RhdGVzLnJ1blJpZ2h0IHx8XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGVFbnVtID09PSBTdGF0ZXMucnVuTGVmdClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBlbW9qaSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ/CfkLYnO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRvdG9ybyBleHRlbmRzIEJhc2VQZXRUeXBlIHtcbiAgICBsYWJlbCA9ICd0b3Rvcm8nO1xuICAgIHNlcXVlbmNlID0ge1xuICAgICAgICBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgc2VxdWVuY2VTdGF0ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnNpdElkbGUsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLmxpZV0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMubGllLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy53YWxrTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa1JpZ2h0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnNpdElkbGVdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLndhbGtMZWZ0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLmNsaW1iV2FsbExlZnQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuY2xpbWJXYWxsTGVmdCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2FsbEhhbmdMZWZ0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxsSGFuZ0xlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLmp1bXBEb3duTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuanVtcERvd25MZWZ0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5sYW5kXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5sYW5kLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLmxpZSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmNoYXNlLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5pZGxlV2l0aEJhbGxdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmlkbGVXaXRoQmFsbCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa1JpZ2h0LCBTdGF0ZXMud2Fsa0xlZnRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9O1xuICAgIGVtb2ppKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAn8J+Qvic7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENhdCBleHRlbmRzIEJhc2VQZXRUeXBlIHtcbiAgICBsYWJlbCA9ICdjYXQnO1xuICAgIHNlcXVlbmNlID0ge1xuICAgICAgICBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgc2VxdWVuY2VTdGF0ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnNpdElkbGUsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLnJ1blJpZ2h0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa0xlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMuY2xpbWJXYWxsTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMucnVuTGVmdCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnNpdElkbGUsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5jbGltYldhbGxMZWZ0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMud2Fsa1JpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5jbGltYldhbGxMZWZ0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxsSGFuZ0xlZnRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLndhbGxIYW5nTGVmdCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuanVtcERvd25MZWZ0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5qdW1wRG93bkxlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLmxhbmRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmxhbmQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMud2Fsa1JpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5jaGFzZSxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuaWRsZVdpdGhCYWxsXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5pZGxlV2l0aEJhbGwsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1bkxlZnQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5ydW5SaWdodCxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9O1xuICAgIGVtb2ppKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAn8J+QsSc7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRG9nIGV4dGVuZHMgQmFzZVBldFR5cGUge1xuICAgIGxhYmVsID0gJ2RvZyc7XG4gICAgc2VxdWVuY2UgPSB7XG4gICAgICAgIHN0YXJ0aW5nU3RhdGU6IFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICBzZXF1ZW5jZVN0YXRlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMubGllLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMubGllLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrUmlnaHQsIFN0YXRlcy5ydW5SaWdodF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa1JpZ2h0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy53YWxrTGVmdCwgU3RhdGVzLnJ1bkxlZnRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLndhbGtMZWZ0LFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLmxpZSxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMucnVuTGVmdCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnNpdElkbGUsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5saWUsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5ydW5SaWdodCxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmNoYXNlLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5pZGxlV2l0aEJhbGxdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmlkbGVXaXRoQmFsbCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtMZWZ0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMucnVuTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH07XG4gICAgZW1vamkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICfwn5C2JztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTbmFrZSBleHRlbmRzIEJhc2VQZXRUeXBlIHtcbiAgICBsYWJlbCA9ICdzbmFrZSc7XG4gICAgc2VxdWVuY2UgPSB7XG4gICAgICAgIHN0YXJ0aW5nU3RhdGU6IFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICBzZXF1ZW5jZVN0YXRlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa1JpZ2h0LCBTdGF0ZXMucnVuUmlnaHRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5ydW5MZWZ0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5ydW5SaWdodCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5ydW5MZWZ0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrTGVmdCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnNpdElkbGUsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5ydW5SaWdodCxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1bkxlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMud2Fsa1JpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5jaGFzZSxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuaWRsZVdpdGhCYWxsXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5pZGxlV2l0aEJhbGwsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy53YWxrTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1bkxlZnQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5ydW5SaWdodCxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9O1xuICAgIGVtb2ppKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAn8J+QjSc7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2xpcHB5IGV4dGVuZHMgQmFzZVBldFR5cGUge1xuICAgIGxhYmVsID0gJ2NsaXBweSc7XG4gICAgc2VxdWVuY2UgPSB7XG4gICAgICAgIHN0YXJ0aW5nU3RhdGU6IFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICBzZXF1ZW5jZVN0YXRlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa1JpZ2h0LCBTdGF0ZXMucnVuUmlnaHRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5ydW5MZWZ0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5ydW5SaWdodCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5ydW5MZWZ0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrTGVmdCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZV0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMucnVuTGVmdCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZV0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuY2hhc2UsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLmlkbGVXaXRoQmFsbF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuaWRsZVdpdGhCYWxsLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMud2Fsa1JpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMud2Fsa0xlZnQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5ydW5MZWZ0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfTtcbiAgICBlbW9qaSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ/Cfk44nO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJ1YmJlckR1Y2sgZXh0ZW5kcyBCYXNlUGV0VHlwZSB7XG4gICAgbGFiZWwgPSAncnViYmVyLWR1Y2snO1xuICAgIHNlcXVlbmNlID0ge1xuICAgICAgICBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgc2VxdWVuY2VTdGF0ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnNpdElkbGUsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLnJ1blJpZ2h0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa0xlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLnNpdElkbGVdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1bkxlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLnNpdElkbGVdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmNoYXNlLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5pZGxlV2l0aEJhbGxdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmlkbGVXaXRoQmFsbCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtMZWZ0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMucnVuTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH07XG4gICAgZW1vamkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICfwn5ClJztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDcmFiIGV4dGVuZHMgQmFzZVBldFR5cGUge1xuICAgIGxhYmVsID0gJ2NyYWInO1xuICAgIHNlcXVlbmNlID0ge1xuICAgICAgICBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgc2VxdWVuY2VTdGF0ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnNpdElkbGUsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLnJ1blJpZ2h0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtMZWZ0LCBTdGF0ZXMucnVuTGVmdF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMud2Fsa0xlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLnNpdElkbGVdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnJ1bkxlZnQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLnNpdElkbGVdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmNoYXNlLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1N0YXRlcy5pZGxlV2l0aEJhbGxdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLmlkbGVXaXRoQmFsbCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLndhbGtMZWZ0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMucnVuTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgU3RhdGVzLnJ1blJpZ2h0LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH07XG4gICAgZW1vamkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICfwn6aAJztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBaYXBweSBleHRlbmRzIEJhc2VQZXRUeXBlIHtcbiAgICBsYWJlbCA9ICd6YXBweSc7XG4gICAgc2VxdWVuY2UgPSB7XG4gICAgICAgIHN0YXJ0aW5nU3RhdGU6IFN0YXRlcy5zaXRJZGxlLFxuICAgICAgICBzZXF1ZW5jZVN0YXRlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa1JpZ2h0LCBTdGF0ZXMucnVuUmlnaHRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLndhbGtSaWdodCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5ydW5MZWZ0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy5ydW5SaWdodCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMud2Fsa0xlZnQsIFN0YXRlcy5ydW5MZWZ0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrTGVmdCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZV0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMucnVuTGVmdCxcbiAgICAgICAgICAgICAgICBwb3NzaWJsZU5leHRTdGF0ZXM6IFtTdGF0ZXMuc2l0SWRsZV0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuY2hhc2UsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLmlkbGVXaXRoQmFsbF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMuaWRsZVdpdGhCYWxsLFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlTmV4dFN0YXRlczogW1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMud2Fsa1JpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMud2Fsa0xlZnQsXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlcy5ydW5MZWZ0LFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfTtcbiAgICBlbW9qaSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ+KaoSc7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUm9ja3kgZXh0ZW5kcyBCYXNlUGV0VHlwZSB7XG4gICAgbGFiZWwgPSAncm9ja3knO1xuICAgIHNlcXVlbmNlID0ge1xuICAgICAgICBzdGFydGluZ1N0YXRlOiBTdGF0ZXMuc2l0SWRsZSxcbiAgICAgICAgc2VxdWVuY2VTdGF0ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogU3RhdGVzLnNpdElkbGUsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLndhbGtSaWdodCwgU3RhdGVzLnJ1blJpZ2h0XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFN0YXRlcy53YWxrUmlnaHQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLnNpdElkbGUsIFN0YXRlcy5ydW5SaWdodF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBTdGF0ZXMucnVuUmlnaHQsXG4gICAgICAgICAgICAgICAgcG9zc2libGVOZXh0U3RhdGVzOiBbU3RhdGVzLnNpdElkbGUsIFN0YXRlcy53YWxrUmlnaHRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9O1xuICAgIGVtb2ppKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAn8J+Sjic7XG4gICAgfVxuICAgIGNhbkNoYXNlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW52YWxpZFBldEV4Y2VwdGlvbiB7fVxuXG5mdW5jdGlvbiBnZXRQZXROYW1lKFxuICAgIGNvbGxlY3Rpb246IE1hcDxudW1iZXIsIHN0cmluZz4sXG4gICAgbGFiZWw6IHN0cmluZyxcbiAgICBjb3VudDogbnVtYmVyLFxuKTogc3RyaW5nIHtcbiAgICBpZiAoY29sbGVjdGlvbi5oYXMoY291bnQpKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uLmdldChjb3VudCkhO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBsYWJlbCArIGNvdW50O1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBldChcbiAgICBwZXRUeXBlOiBzdHJpbmcsXG4gICAgZWw6IEhUTUxJbWFnZUVsZW1lbnQsXG4gICAgY29sbGlzaW9uOiBIVE1MRGl2RWxlbWVudCxcbiAgICBzaXplOiBQZXRTaXplLFxuICAgIGxlZnQ6IG51bWJlcixcbiAgICBib3R0b206IG51bWJlcixcbiAgICBwZXRSb290OiBzdHJpbmcsXG4gICAgZmxvb3I6IG51bWJlcixcbiAgICBuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4pOiBJUGV0VHlwZSB7XG4gICAgaWYgKHBldFR5cGUgPT09ICd0b3Rvcm8nKSB7XG4gICAgICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5hbWUgPSBnZXRQZXROYW1lKFRPVE9ST19OQU1FUywgUGV0VHlwZS50b3Rvcm8sIFRvdG9yby5jb3VudCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVG90b3JvKFxuICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICBjb2xsaXNpb24sXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgICAgIHBldFJvb3QsXG4gICAgICAgICAgICBmbG9vcixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBQZXRTcGVlZC5ub3JtYWwsXG4gICAgICAgICk7XG4gICAgfVxuICAgIGlmIChwZXRUeXBlID09PSAnY2F0Jykge1xuICAgICAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuYW1lID0gZ2V0UGV0TmFtZShcbiAgICAgICAgICAgICAgICBDQVRfTkFNRVMsXG4gICAgICAgICAgICAgICAgUGV0VHlwZS5jYXQsXG4gICAgICAgICAgICAgICAgQ2F0LmNvdW50ICsgRG9nLmNvdW50ICsgMSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gLy8gQ2F0IGFuZCBkb2cgc2hhcmUgdGhlIHNhbWUgbmFtZSBsaXN0XG4gICAgICAgIHJldHVybiBuZXcgQ2F0KFxuICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICBjb2xsaXNpb24sXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgICAgIHBldFJvb3QsXG4gICAgICAgICAgICBmbG9vcixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBQZXRTcGVlZC5ub3JtYWwsXG4gICAgICAgICk7XG4gICAgfSBlbHNlIGlmIChwZXRUeXBlID09PSAnZG9nJykge1xuICAgICAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuYW1lID0gZ2V0UGV0TmFtZShcbiAgICAgICAgICAgICAgICBET0dfTkFNRVMsXG4gICAgICAgICAgICAgICAgUGV0VHlwZS5kb2csXG4gICAgICAgICAgICAgICAgRG9nLmNvdW50ICsgQ2F0LmNvdW50ICsgMSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gLy8gQ2F0IGFuZCBkb2cgc2hhcmUgdGhlIHNhbWUgbmFtZSBsaXN0XG4gICAgICAgIHJldHVybiBuZXcgRG9nKFxuICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICBjb2xsaXNpb24sXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgICAgIHBldFJvb3QsXG4gICAgICAgICAgICBmbG9vcixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBQZXRTcGVlZC5ub3JtYWwsXG4gICAgICAgICk7XG4gICAgfSBlbHNlIGlmIChwZXRUeXBlID09PSAnc25ha2UnKSB7XG4gICAgICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5hbWUgPSBnZXRQZXROYW1lKFNOQUtFX05BTUVTLCBQZXRUeXBlLnNuYWtlLCBTbmFrZS5jb3VudCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU25ha2UoXG4gICAgICAgICAgICBlbCxcbiAgICAgICAgICAgIGNvbGxpc2lvbixcbiAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgcGV0Um9vdCxcbiAgICAgICAgICAgIGZsb29yLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIFBldFNwZWVkLnZlcnlTbG93LFxuICAgICAgICApO1xuICAgIH0gZWxzZSBpZiAocGV0VHlwZSA9PT0gJ2NsaXBweScpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmFtZSA9IGdldFBldE5hbWUoQ0xJUFBZX05BTUVTLCBQZXRUeXBlLmNsaXBweSwgQ2xpcHB5LmNvdW50ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDbGlwcHkoXG4gICAgICAgICAgICBlbCxcbiAgICAgICAgICAgIGNvbGxpc2lvbixcbiAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgcGV0Um9vdCxcbiAgICAgICAgICAgIGZsb29yLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIFBldFNwZWVkLnNsb3csXG4gICAgICAgICk7XG4gICAgfSBlbHNlIGlmIChwZXRUeXBlID09PSAnY3JhYicpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmFtZSA9IGdldFBldE5hbWUoQ1JBQl9OQU1FUywgUGV0VHlwZS5jcmFiLCBDcmFiLmNvdW50ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDcmFiKFxuICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICBjb2xsaXNpb24sXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgICAgIHBldFJvb3QsXG4gICAgICAgICAgICBmbG9vcixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBQZXRTcGVlZC5zbG93LFxuICAgICAgICApO1xuICAgIH0gZWxzZSBpZiAocGV0VHlwZSA9PT0gJ3J1YmJlci1kdWNrJykge1xuICAgICAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuYW1lID0gZ2V0UGV0TmFtZShcbiAgICAgICAgICAgICAgICBEVUNLX05BTUVTLFxuICAgICAgICAgICAgICAgIFBldFR5cGUucnViYmVyZHVjayxcbiAgICAgICAgICAgICAgICBSdWJiZXJEdWNrLmNvdW50ICsgMSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSdWJiZXJEdWNrKFxuICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICBjb2xsaXNpb24sXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgICAgIHBldFJvb3QsXG4gICAgICAgICAgICBmbG9vcixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBQZXRTcGVlZC5mYXN0LFxuICAgICAgICApO1xuICAgIH0gZWxzZSBpZiAocGV0VHlwZSA9PT0gJ3phcHB5Jykge1xuICAgICAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuYW1lID0gZ2V0UGV0TmFtZShaQVBQWV9OQU1FUywgUGV0VHlwZS56YXBweSwgWmFwcHkuY291bnQgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFphcHB5KFxuICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICBjb2xsaXNpb24sXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgICAgIHBldFJvb3QsXG4gICAgICAgICAgICBmbG9vcixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBQZXRTcGVlZC52ZXJ5RmFzdCxcbiAgICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHBldFR5cGUgPT09ICdyb2NreScpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmFtZSA9IGdldFBldE5hbWUoUk9DS1lfTkFNRVMsIFBldFR5cGUucm9ja3ksIFJvY2t5LmNvdW50ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSb2NreShcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgY29sbGlzaW9uLFxuICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICBwZXRSb290LFxuICAgICAgICAgICAgZmxvb3IsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgUGV0U3BlZWQuc3RpbGwsXG4gICAgICAgICk7XG4gICAgfVxuICAgIHRocm93IG5ldyBJbnZhbGlkUGV0RXhjZXB0aW9uKCk7XG59XG4iLCJpbXBvcnQgeyBQZXRDb2xvciwgUGV0VHlwZSB9IGZyb20gJy4uL2NvbW1vbi90eXBlcyc7XG5pbXBvcnQgeyBJUGV0VHlwZSB9IGZyb20gJy4vcGV0cyc7XG5cbmV4cG9ydCBjbGFzcyBQZXRJbnN0YW5jZVN0YXRlIHtcbiAgICBjdXJyZW50U3RhdGVFbnVtOiBTdGF0ZXMgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBQZXRFbGVtZW50U3RhdGUge1xuICAgIHBldFN0YXRlOiBQZXRJbnN0YW5jZVN0YXRlIHwgdW5kZWZpbmVkO1xuICAgIHBldFR5cGU6IFBldFR5cGUgfCB1bmRlZmluZWQ7XG4gICAgcGV0Q29sb3I6IFBldENvbG9yIHwgdW5kZWZpbmVkO1xuICAgIGVsTGVmdDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIGVsQm90dG9tOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgcGV0TmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIHBldEZyaWVuZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY2xhc3MgUGV0UGFuZWxTdGF0ZSB7XG4gICAgcGV0U3RhdGVzOiBBcnJheTxQZXRFbGVtZW50U3RhdGU+IHwgdW5kZWZpbmVkO1xuICAgIHBldENvdW50ZXI6IG51bWJlciB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGVudW0gSG9yaXpvbnRhbERpcmVjdGlvbiB7XG4gICAgbGVmdCxcbiAgICByaWdodCxcbiAgICBuYXR1cmFsLCAvLyBObyBjaGFuZ2UgdG8gY3VycmVudCBkaXJlY3Rpb25cbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gU3RhdGVzIHtcbiAgICBzaXRJZGxlID0gJ3NpdC1pZGxlJyxcbiAgICB3YWxrUmlnaHQgPSAnd2Fsay1yaWdodCcsXG4gICAgd2Fsa0xlZnQgPSAnd2Fsay1sZWZ0JyxcbiAgICBydW5SaWdodCA9ICdydW4tcmlnaHQnLFxuICAgIHJ1bkxlZnQgPSAncnVuLWxlZnQnLFxuICAgIGxpZSA9ICdsaWUnLFxuICAgIHdhbGxIYW5nTGVmdCA9ICd3YWxsLWhhbmctbGVmdCcsXG4gICAgY2xpbWJXYWxsTGVmdCA9ICdjbGltYi13YWxsLWxlZnQnLFxuICAgIGp1bXBEb3duTGVmdCA9ICdqdW1wLWRvd24tbGVmdCcsXG4gICAgbGFuZCA9ICdsYW5kJyxcbiAgICBzd2lwZSA9ICdzd2lwZScsXG4gICAgaWRsZVdpdGhCYWxsID0gJ2lkbGUtd2l0aC1iYWxsJyxcbiAgICBjaGFzZSA9ICdjaGFzZScsXG4gICAgY2hhc2VGcmllbmQgPSAnY2hhc2UtZnJpZW5kJyxcbn1cblxuZXhwb3J0IGVudW0gRnJhbWVSZXN1bHQge1xuICAgIHN0YXRlQ29udGludWUsXG4gICAgc3RhdGVDb21wbGV0ZSxcbiAgICAvLyBTcGVjaWFsIHN0YXRlc1xuICAgIHN0YXRlQ2FuY2VsLFxufVxuXG5leHBvcnQgY2xhc3MgQmFsbFN0YXRlIHtcbiAgICBjeDogbnVtYmVyO1xuICAgIGN5OiBudW1iZXI7XG4gICAgdng6IG51bWJlcjtcbiAgICB2eTogbnVtYmVyO1xuICAgIHBhdXNlZDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGN4OiBudW1iZXIsIGN5OiBudW1iZXIsIHZ4OiBudW1iZXIsIHZ5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jeCA9IGN4O1xuICAgICAgICB0aGlzLmN5ID0gY3k7XG4gICAgICAgIHRoaXMudnggPSB2eDtcbiAgICAgICAgdGhpcy52eSA9IHZ5O1xuICAgICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RhdGVBYm92ZUdyb3VuZChzdGF0ZTogU3RhdGVzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgc3RhdGUgPT09IFN0YXRlcy5jbGltYldhbGxMZWZ0IHx8XG4gICAgICAgIHN0YXRlID09PSBTdGF0ZXMuanVtcERvd25MZWZ0IHx8XG4gICAgICAgIHN0YXRlID09PSBTdGF0ZXMubGFuZCB8fFxuICAgICAgICBzdGF0ZSA9PT0gU3RhdGVzLndhbGxIYW5nTGVmdFxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlU3RhdGUoc3RhdGU6IHN0cmluZywgcGV0OiBJUGV0VHlwZSk6IElTdGF0ZSB7XG4gICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICBjYXNlIFN0YXRlcy5zaXRJZGxlOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaXRJZGxlU3RhdGUocGV0KTtcbiAgICAgICAgY2FzZSBTdGF0ZXMud2Fsa1JpZ2h0OlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBXYWxrUmlnaHRTdGF0ZShwZXQpO1xuICAgICAgICBjYXNlIFN0YXRlcy53YWxrTGVmdDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgV2Fsa0xlZnRTdGF0ZShwZXQpO1xuICAgICAgICBjYXNlIFN0YXRlcy5ydW5SaWdodDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgUnVuUmlnaHRTdGF0ZShwZXQpO1xuICAgICAgICBjYXNlIFN0YXRlcy5ydW5MZWZ0OlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5MZWZ0U3RhdGUocGV0KTtcbiAgICAgICAgY2FzZSBTdGF0ZXMubGllOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMaWVTdGF0ZShwZXQpO1xuICAgICAgICBjYXNlIFN0YXRlcy53YWxsSGFuZ0xlZnQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFdhbGxIYW5nTGVmdFN0YXRlKHBldCk7XG4gICAgICAgIGNhc2UgU3RhdGVzLmNsaW1iV2FsbExlZnQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IENsaW1iV2FsbExlZnRTdGF0ZShwZXQpO1xuICAgICAgICBjYXNlIFN0YXRlcy5qdW1wRG93bkxlZnQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEp1bXBEb3duTGVmdFN0YXRlKHBldCk7XG4gICAgICAgIGNhc2UgU3RhdGVzLmxhbmQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IExhbmRTdGF0ZShwZXQpO1xuICAgICAgICBjYXNlIFN0YXRlcy5zd2lwZTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3dpcGVTdGF0ZShwZXQpO1xuICAgICAgICBjYXNlIFN0YXRlcy5pZGxlV2l0aEJhbGw6XG4gICAgICAgICAgICByZXR1cm4gbmV3IElkbGVXaXRoQmFsbFN0YXRlKHBldCk7XG4gICAgICAgIGNhc2UgU3RhdGVzLmNoYXNlRnJpZW5kOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDaGFzZUZyaWVuZFN0YXRlKHBldCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU2l0SWRsZVN0YXRlKHBldCk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVN0YXRlIHtcbiAgICBsYWJlbDogc3RyaW5nO1xuICAgIHNwcml0ZUxhYmVsOiBzdHJpbmc7XG4gICAgaG9yaXpvbnRhbERpcmVjdGlvbjogSG9yaXpvbnRhbERpcmVjdGlvbjtcbiAgICBwZXQ6IElQZXRUeXBlO1xuICAgIG5leHRGcmFtZSgpOiBGcmFtZVJlc3VsdDtcbn1cblxuY2xhc3MgQWJzdHJhY3RTdGF0aWNTdGF0ZSBpbXBsZW1lbnRzIElTdGF0ZSB7XG4gICAgbGFiZWwgPSBTdGF0ZXMuc2l0SWRsZTtcbiAgICBpZGxlQ291bnRlcjogbnVtYmVyO1xuICAgIHNwcml0ZUxhYmVsID0gJ2lkbGUnO1xuICAgIGhvbGRUaW1lID0gNTA7XG4gICAgcGV0OiBJUGV0VHlwZTtcblxuICAgIGhvcml6b250YWxEaXJlY3Rpb24gPSBIb3Jpem9udGFsRGlyZWN0aW9uLmxlZnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihwZXQ6IElQZXRUeXBlKSB7XG4gICAgICAgIHRoaXMuaWRsZUNvdW50ZXIgPSAwO1xuICAgICAgICB0aGlzLnBldCA9IHBldDtcbiAgICB9XG5cbiAgICBuZXh0RnJhbWUoKTogRnJhbWVSZXN1bHQge1xuICAgICAgICB0aGlzLmlkbGVDb3VudGVyKys7XG4gICAgICAgIGlmICh0aGlzLmlkbGVDb3VudGVyID4gdGhpcy5ob2xkVGltZSkge1xuICAgICAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29tcGxldGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29udGludWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2l0SWRsZVN0YXRlIGV4dGVuZHMgQWJzdHJhY3RTdGF0aWNTdGF0ZSB7XG4gICAgbGFiZWwgPSBTdGF0ZXMuc2l0SWRsZTtcbiAgICBzcHJpdGVMYWJlbCA9ICdpZGxlJztcbiAgICBob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5yaWdodDtcbiAgICBob2xkVGltZSA9IDUwO1xufVxuXG5leHBvcnQgY2xhc3MgTGllU3RhdGUgZXh0ZW5kcyBBYnN0cmFjdFN0YXRpY1N0YXRlIHtcbiAgICBsYWJlbCA9IFN0YXRlcy5saWU7XG4gICAgc3ByaXRlTGFiZWwgPSAnbGllJztcbiAgICBob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5yaWdodDtcbiAgICBob2xkVGltZSA9IDUwO1xufVxuXG5leHBvcnQgY2xhc3MgV2FsbEhhbmdMZWZ0U3RhdGUgZXh0ZW5kcyBBYnN0cmFjdFN0YXRpY1N0YXRlIHtcbiAgICBsYWJlbCA9IFN0YXRlcy53YWxsSGFuZ0xlZnQ7XG4gICAgc3ByaXRlTGFiZWwgPSAnd2FsbGdyYWInO1xuICAgIGhvcml6b250YWxEaXJlY3Rpb24gPSBIb3Jpem9udGFsRGlyZWN0aW9uLmxlZnQ7XG4gICAgaG9sZFRpbWUgPSA1MDtcbn1cblxuZXhwb3J0IGNsYXNzIExhbmRTdGF0ZSBleHRlbmRzIEFic3RyYWN0U3RhdGljU3RhdGUge1xuICAgIGxhYmVsID0gU3RhdGVzLmxhbmQ7XG4gICAgc3ByaXRlTGFiZWwgPSAnbGFuZCc7XG4gICAgaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ubGVmdDtcbiAgICBob2xkVGltZSA9IDEwO1xufVxuXG5leHBvcnQgY2xhc3MgU3dpcGVTdGF0ZSBleHRlbmRzIEFic3RyYWN0U3RhdGljU3RhdGUge1xuICAgIGxhYmVsID0gU3RhdGVzLnN3aXBlO1xuICAgIHNwcml0ZUxhYmVsID0gJ3N3aXBlJztcbiAgICBob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5uYXR1cmFsO1xuICAgIGhvbGRUaW1lID0gMTU7XG59XG5cbmV4cG9ydCBjbGFzcyBJZGxlV2l0aEJhbGxTdGF0ZSBleHRlbmRzIEFic3RyYWN0U3RhdGljU3RhdGUge1xuICAgIGxhYmVsID0gU3RhdGVzLmlkbGVXaXRoQmFsbDtcbiAgICBzcHJpdGVMYWJlbCA9ICd3aXRoX2JhbGwnO1xuICAgIGhvcml6b250YWxEaXJlY3Rpb24gPSBIb3Jpem9udGFsRGlyZWN0aW9uLmxlZnQ7XG4gICAgaG9sZFRpbWUgPSAzMDtcbn1cblxuZXhwb3J0IGNsYXNzIFdhbGtSaWdodFN0YXRlIGltcGxlbWVudHMgSVN0YXRlIHtcbiAgICBsYWJlbCA9IFN0YXRlcy53YWxrUmlnaHQ7XG4gICAgcGV0OiBJUGV0VHlwZTtcbiAgICBzcHJpdGVMYWJlbCA9ICd3YWxrJztcbiAgICBob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5yaWdodDtcbiAgICBsZWZ0Qm91bmRhcnk6IG51bWJlcjtcbiAgICBzcGVlZE11bHRpcGxpZXIgPSAxO1xuICAgIGlkbGVDb3VudGVyOiBudW1iZXI7XG4gICAgaG9sZFRpbWUgPSA2MDtcblxuICAgIGNvbnN0cnVjdG9yKHBldDogSVBldFR5cGUpIHtcbiAgICAgICAgdGhpcy5sZWZ0Qm91bmRhcnkgPSBNYXRoLmZsb29yKHdpbmRvdy5pbm5lcldpZHRoICogMC45NSk7XG4gICAgICAgIHRoaXMucGV0ID0gcGV0O1xuICAgICAgICB0aGlzLmlkbGVDb3VudGVyID0gMDtcbiAgICB9XG5cbiAgICBuZXh0RnJhbWUoKTogRnJhbWVSZXN1bHQge1xuICAgICAgICB0aGlzLmlkbGVDb3VudGVyKys7XG4gICAgICAgIHRoaXMucGV0LnBvc2l0aW9uTGVmdChcbiAgICAgICAgICAgIHRoaXMucGV0LmxlZnQoKSArIHRoaXMucGV0LnNwZWVkKCkgKiB0aGlzLnNwZWVkTXVsdGlwbGllcixcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5wZXQuaXNNb3ZpbmcoKSAmJlxuICAgICAgICAgICAgdGhpcy5wZXQubGVmdCgpID49IHRoaXMubGVmdEJvdW5kYXJ5IC0gdGhpcy5wZXQud2lkdGgoKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiBGcmFtZVJlc3VsdC5zdGF0ZUNvbXBsZXRlO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnBldC5pc01vdmluZygpICYmIHRoaXMuaWRsZUNvdW50ZXIgPiB0aGlzLmhvbGRUaW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDb21wbGV0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDb250aW51ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBXYWxrTGVmdFN0YXRlIGltcGxlbWVudHMgSVN0YXRlIHtcbiAgICBsYWJlbCA9IFN0YXRlcy53YWxrTGVmdDtcbiAgICBzcHJpdGVMYWJlbCA9ICd3YWxrJztcbiAgICBob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5sZWZ0O1xuICAgIHBldDogSVBldFR5cGU7XG4gICAgc3BlZWRNdWx0aXBsaWVyID0gMTtcbiAgICBpZGxlQ291bnRlcjogbnVtYmVyO1xuICAgIGhvbGRUaW1lID0gNjA7XG5cbiAgICBjb25zdHJ1Y3RvcihwZXQ6IElQZXRUeXBlKSB7XG4gICAgICAgIHRoaXMucGV0ID0gcGV0O1xuICAgICAgICB0aGlzLmlkbGVDb3VudGVyID0gMDtcbiAgICB9XG5cbiAgICBuZXh0RnJhbWUoKTogRnJhbWVSZXN1bHQge1xuICAgICAgICB0aGlzLnBldC5wb3NpdGlvbkxlZnQoXG4gICAgICAgICAgICB0aGlzLnBldC5sZWZ0KCkgLSB0aGlzLnBldC5zcGVlZCgpICogdGhpcy5zcGVlZE11bHRpcGxpZXIsXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0aGlzLnBldC5pc01vdmluZygpICYmIHRoaXMucGV0LmxlZnQoKSA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDb21wbGV0ZTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5wZXQuaXNNb3ZpbmcoKSAmJiB0aGlzLmlkbGVDb3VudGVyID4gdGhpcy5ob2xkVGltZSkge1xuICAgICAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29tcGxldGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29udGludWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUnVuUmlnaHRTdGF0ZSBleHRlbmRzIFdhbGtSaWdodFN0YXRlIHtcbiAgICBsYWJlbCA9IFN0YXRlcy5ydW5SaWdodDtcbiAgICBzcHJpdGVMYWJlbCA9ICd3YWxrX2Zhc3QnO1xuICAgIHNwZWVkTXVsdGlwbGllciA9IDEuNjtcbiAgICBob2xkVGltZSA9IDEzMDtcbn1cblxuZXhwb3J0IGNsYXNzIFJ1bkxlZnRTdGF0ZSBleHRlbmRzIFdhbGtMZWZ0U3RhdGUge1xuICAgIGxhYmVsID0gU3RhdGVzLnJ1bkxlZnQ7XG4gICAgc3ByaXRlTGFiZWwgPSAnd2Fsa19mYXN0JztcbiAgICBzcGVlZE11bHRpcGxpZXIgPSAxLjY7XG4gICAgaG9sZFRpbWUgPSAxMzA7XG59XG5cbmV4cG9ydCBjbGFzcyBDaGFzZVN0YXRlIGltcGxlbWVudHMgSVN0YXRlIHtcbiAgICBsYWJlbCA9IFN0YXRlcy5jaGFzZTtcbiAgICBzcHJpdGVMYWJlbCA9ICdydW4nO1xuICAgIGhvcml6b250YWxEaXJlY3Rpb24gPSBIb3Jpem9udGFsRGlyZWN0aW9uLmxlZnQ7XG4gICAgYmFsbFN0YXRlOiBCYWxsU3RhdGU7XG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBwZXQ6IElQZXRUeXBlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBldDogSVBldFR5cGUsXG4gICAgICAgIGJhbGxTdGF0ZTogQmFsbFN0YXRlLFxuICAgICAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LFxuICAgICkge1xuICAgICAgICB0aGlzLnBldCA9IHBldDtcbiAgICAgICAgdGhpcy5iYWxsU3RhdGUgPSBiYWxsU3RhdGU7XG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgIH1cblxuICAgIG5leHRGcmFtZSgpOiBGcmFtZVJlc3VsdCB7XG4gICAgICAgIGlmICh0aGlzLmJhbGxTdGF0ZS5wYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBGcmFtZVJlc3VsdC5zdGF0ZUNhbmNlbDsgLy8gQmFsbCBpcyBhbHJlYWR5IGNhdWdodFxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBldC5sZWZ0KCkgPiB0aGlzLmJhbGxTdGF0ZS5jeCkge1xuICAgICAgICAgICAgdGhpcy5ob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5sZWZ0O1xuICAgICAgICAgICAgdGhpcy5wZXQucG9zaXRpb25MZWZ0KHRoaXMucGV0LmxlZnQoKSAtIHRoaXMucGV0LnNwZWVkKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5yaWdodDtcbiAgICAgICAgICAgIHRoaXMucGV0LnBvc2l0aW9uTGVmdCh0aGlzLnBldC5sZWZ0KCkgKyB0aGlzLnBldC5zcGVlZCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCAtIHRoaXMuYmFsbFN0YXRlLmN5IDxcbiAgICAgICAgICAgICAgICB0aGlzLnBldC53aWR0aCgpICsgdGhpcy5wZXQuZmxvb3IoKSAmJlxuICAgICAgICAgICAgdGhpcy5iYWxsU3RhdGUuY3ggPCB0aGlzLnBldC5sZWZ0KCkgJiZcbiAgICAgICAgICAgIHRoaXMucGV0LmxlZnQoKSA8IHRoaXMuYmFsbFN0YXRlLmN4ICsgMTVcbiAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyBoaWRlIGJhbGxcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB0aGlzLmJhbGxTdGF0ZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29tcGxldGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZyYW1lUmVzdWx0LnN0YXRlQ29udGludWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hhc2VGcmllbmRTdGF0ZSBpbXBsZW1lbnRzIElTdGF0ZSB7XG4gICAgbGFiZWwgPSBTdGF0ZXMuY2hhc2VGcmllbmQ7XG4gICAgc3ByaXRlTGFiZWwgPSAncnVuJztcbiAgICBob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5sZWZ0O1xuICAgIHBldDogSVBldFR5cGU7XG5cbiAgICBjb25zdHJ1Y3RvcihwZXQ6IElQZXRUeXBlKSB7XG4gICAgICAgIHRoaXMucGV0ID0gcGV0O1xuICAgIH1cblxuICAgIG5leHRGcmFtZSgpOiBGcmFtZVJlc3VsdCB7XG4gICAgICAgIGlmICghdGhpcy5wZXQuZnJpZW5kKCkuaXNQbGF5aW5nKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBGcmFtZVJlc3VsdC5zdGF0ZUNhbmNlbDsgLy8gRnJpZW5kIGlzIG5vIGxvbmdlciBwbGF5aW5nLlxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBldC5sZWZ0KCkgPiB0aGlzLnBldC5mcmllbmQoKS5sZWZ0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ubGVmdDtcbiAgICAgICAgICAgIHRoaXMucGV0LnBvc2l0aW9uTGVmdCh0aGlzLnBldC5sZWZ0KCkgLSB0aGlzLnBldC5zcGVlZCgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaG9yaXpvbnRhbERpcmVjdGlvbiA9IEhvcml6b250YWxEaXJlY3Rpb24ucmlnaHQ7XG4gICAgICAgICAgICB0aGlzLnBldC5wb3NpdGlvbkxlZnQodGhpcy5wZXQubGVmdCgpICsgdGhpcy5wZXQuc3BlZWQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gRnJhbWVSZXN1bHQuc3RhdGVDb250aW51ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDbGltYldhbGxMZWZ0U3RhdGUgaW1wbGVtZW50cyBJU3RhdGUge1xuICAgIGxhYmVsID0gU3RhdGVzLmNsaW1iV2FsbExlZnQ7XG4gICAgc3ByaXRlTGFiZWwgPSAnd2FsbGNsaW1iJztcbiAgICBob3Jpem9udGFsRGlyZWN0aW9uID0gSG9yaXpvbnRhbERpcmVjdGlvbi5sZWZ0O1xuICAgIHBldDogSVBldFR5cGU7XG5cbiAgICBjb25zdHJ1Y3RvcihwZXQ6IElQZXRUeXBlKSB7XG4gICAgICAgIHRoaXMucGV0ID0gcGV0O1xuICAgIH1cblxuICAgIG5leHRGcmFtZSgpOiBGcmFtZVJlc3VsdCB7XG4gICAgICAgIHRoaXMucGV0LnBvc2l0aW9uQm90dG9tKHRoaXMucGV0LmJvdHRvbSgpICsgMSk7XG4gICAgICAgIGlmICh0aGlzLnBldC5ib3R0b20oKSA+PSAxMDApIHtcbiAgICAgICAgICAgIHJldHVybiBGcmFtZVJlc3VsdC5zdGF0ZUNvbXBsZXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGcmFtZVJlc3VsdC5zdGF0ZUNvbnRpbnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEp1bXBEb3duTGVmdFN0YXRlIGltcGxlbWVudHMgSVN0YXRlIHtcbiAgICBsYWJlbCA9IFN0YXRlcy5qdW1wRG93bkxlZnQ7XG4gICAgc3ByaXRlTGFiZWwgPSAnZmFsbF9mcm9tX2dyYWInO1xuICAgIGhvcml6b250YWxEaXJlY3Rpb24gPSBIb3Jpem9udGFsRGlyZWN0aW9uLnJpZ2h0O1xuICAgIHBldDogSVBldFR5cGU7XG5cbiAgICBjb25zdHJ1Y3RvcihwZXQ6IElQZXRUeXBlKSB7XG4gICAgICAgIHRoaXMucGV0ID0gcGV0O1xuICAgIH1cblxuICAgIG5leHRGcmFtZSgpOiBGcmFtZVJlc3VsdCB7XG4gICAgICAgIHRoaXMucGV0LnBvc2l0aW9uQm90dG9tKHRoaXMucGV0LmJvdHRvbSgpIC0gNSk7XG4gICAgICAgIGlmICh0aGlzLnBldC5ib3R0b20oKSA8PSB0aGlzLnBldC5mbG9vcigpKSB7XG4gICAgICAgICAgICB0aGlzLnBldC5wb3NpdGlvbkJvdHRvbSh0aGlzLnBldC5mbG9vcigpKTtcbiAgICAgICAgICAgIHJldHVybiBGcmFtZVJlc3VsdC5zdGF0ZUNvbXBsZXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGcmFtZVJlc3VsdC5zdGF0ZUNvbnRpbnVlO1xuICAgIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9wYW5lbC9tYWluLnRzXCIpO1xuIiwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9